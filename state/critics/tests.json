{
  "critic": "tests",
  "code": 0,
  "stdout": "PYTHONPATH=.deps:. pytest apps tests\n============================= test session starts ==============================\nplatform darwin -- Python 3.10.12, pytest-8.4.2, pluggy-1.6.0\nrootdir: /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane\nconfigfile: pyproject.toml\nplugins: anyio-4.11.0, asyncio-1.2.0\nasyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollected 131 items\n\ntests/apps/model/test_baseline.py ...                                    [  2%]\ntests/apps/model/test_causal_uplift.py ....                              [  5%]\ntests/apps/model/test_train.py .                                         [  6%]\ntests/apps/model/test_ts_training.py ..                                  [  7%]\ntests/model/test_ensemble.py ..                                          [  9%]\ntests/model/test_performance_tracker.py ...                              [ 11%]\ntests/model/test_quantile_calibration.py ....                            [ 14%]\ntests/model/test_uplift.py ..                                            [ 16%]\ntests/shared/libs/test_hardware_probe.py ....                            [ 19%]\ntests/test_ads_ingestion.py .                                            [ 19%]\ntests/test_ads_ingestor_fixtures.py .                                    [ 20%]\ntests/test_allocator.py ..                                               [ 22%]\ntests/test_allocator_stress.py ..                                        [ 23%]\ntests/test_audit.py .                                                    [ 24%]\ntests/test_automation_notifications.py ..                                [ 25%]\ntests/test_catalog.py .                                                  [ 26%]\ntests/test_confidence_metrics.py ...                                     [ 29%]\ntests/test_context_tags.py .                                             [ 29%]\ntests/test_context_warnings.py ....                                      [ 32%]\ntests/test_data_context.py .                                             [ 33%]\ntests/test_feature_builder.py ...                                        [ 35%]\ntests/test_feature_generators.py ..                                      [ 37%]\ntests/test_feature_validation.py ....                                    [ 40%]\ntests/test_geocoding.py .....                                            [ 44%]\ntests/test_geocoding_coverage.py .                                       [ 45%]\ntests/test_geocoding_validation.py ....                                  [ 48%]\ntests/test_google_ads_connector.py ..                                    [ 49%]\ntests/test_health.py .                                                   [ 50%]\ntests/test_incrementality.py .......                                     [ 55%]\ntests/test_ingestion_flow.py .                                           [ 56%]\ntests/test_lake_writer.py ..                                             [ 58%]\ntests/test_meta_connector.py ...                                         [ 60%]\ntests/test_metrics_cleanup.py ..                                         [ 61%]\ntests/test_model_pipeline.py .                                           [ 62%]\ntests/test_plan_service_context.py ..                                    [ 64%]\ntests/test_poc_flow.py .                                                 [ 64%]\ntests/test_poc_flow_integration.py .                                     [ 65%]\ntests/test_poc_flow_integration_ads.py .                                 [ 66%]\ntests/test_privacy.py ..                                                 [ 67%]\ntests/test_promo_ingestion.py .                                          [ 68%]\ntests/test_publish_observability.py ..                                   [ 70%]\ntests/test_reporting.py ..                                               [ 71%]\ntests/test_retention.py ...                                              [ 74%]\ntests/test_schema_validation.py .....                                    [ 77%]\ntests/test_secrets_check.py ..                                           [ 79%]\ntests/test_settings.py ...                                               [ 81%]\ntests/test_shopify_connector.py ...                                      [ 83%]\ntests/test_shopify_ingestion.py .                                        [ 84%]\ntests/test_shopify_ingestor.py .                                         [ 85%]\ntests/test_smoke_harness.py ...                                          [ 87%]\ntests/test_state_store.py ..                                             [ 89%]\ntests/test_stories.py .                                                  [ 90%]\ntests/test_tagging.py .                                                  [ 90%]\ntests/test_weather_cache.py ..                                           [ 92%]\ntests/test_weather_coordinates.py ..                                     [ 93%]\ntests/test_worker_cli.py ...                                             [ 96%]\ntests/test_worker_context.py .                                           [ 96%]\ntests/test_worker_logging.py ..                                          [ 98%]\ntests/worker/ingest_to_plan_live/test_live_connectors.py .s              [100%]\n\n=============================== warnings summary ===============================\n../../miniforge3/lib/python3.10/site-packages/starlette/formparsers.py:10\n  /Volumes/BigSSD4/nathanielschmiedehaus/miniforge3/lib/python3.10/site-packages/starlette/formparsers.py:10: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.deps/pydantic/v1/env_settings.py:101\n  /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/.deps/pydantic/v1/env_settings.py:101: FutureWarning: aliases are no longer used by BaseSettings to define which environment variables to read. Instead use the \"env\" field setting. See https://pydantic-docs.helpmanual.io/usage/settings/#environment-variable-names\n    warnings.warn(\n\n.deps/pydantic/_internal/_config.py:291\n  /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/.deps/pydantic/_internal/_config.py:291: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.9/migration/\n    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)\n\n.deps/pydantic/_internal/_generate_schema.py:312: 18 warnings\ntests/test_catalog.py: 1 warning\n  /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/.deps/pydantic/_internal/_generate_schema.py:312: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.9/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.9/migration/\n    warnings.warn(\n\ntests/test_poc_flow.py::test_orchestrate_flow_with_synthetic_data\ntests/test_poc_flow_integration.py::test_orchestrate_poc_flow_generates_plan\ntests/test_poc_flow_integration_ads.py::test_pipeline_uses_ads_connectors\ntests/test_worker_context.py::test_worker_flow_emits_context_tags\ntests/worker/ingest_to_plan_live/test_live_connectors.py::test_ingest_to_plan_harness_synthetic\n  /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/.deps/sklearn/metrics/_regression.py:1211: UndefinedMetricWarning: R^2 score is not well-defined with less than two samples.\n    warnings.warn(msg, UndefinedMetricWarning)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n================= 130 passed, 1 skipped, 27 warnings in 9.17s ==================\nnpm test --prefix apps/web || true\npython -m shared.observability.metrics --base-dir tmp/metrics\nRemoved: /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/tmp/metrics/20251011T114154Z\nRemoved: /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/tmp/metrics/20251011T114158Z\nRemoved: /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/tmp/metrics/20251011T114158Z_1",
  "stderr": "/Volumes/BigSSD4/nathanielschmiedehaus/.bash_profile: line 39: /usr/local/bin/brew: No such file or directory\nnpm error Missing script: \"test\"\nnpm error\nnpm error To see a list of scripts, run:\nnpm error   npm run\nnpm error A complete log of this run can be found in: /Volumes/BigSSD4/nathanielschmiedehaus/.npm/_logs/2025-10-11T11_41_59_800Z-debug-0.log\n/Volumes/BigSSD4/nathanielschmiedehaus/miniforge3/lib/python3.10/runpy.py:126: RuntimeWarning: 'shared.observability.metrics' found in sys.modules after import of package 'shared.observability', but prior to execution of 'shared.observability.metrics'; this may result in unpredictable behaviour\n  warn(RuntimeWarning(msg))",
  "passed": true,
  "git_sha": "7dbb20b58859e7bc0ba415e3ffbb230c17f13a1b",
  "timestamp": "2025-10-11T11:41:59.924Z"
}