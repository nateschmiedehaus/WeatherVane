{
  "critic": "tests",
  "code": 1,
  "stdout": "\n== Python test suite ==\n============================= test session starts ==============================\nplatform darwin -- Python 3.10.12, pytest-8.4.2, pluggy-1.6.0\nrootdir: /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane\nconfigfile: pyproject.toml\nplugins: anyio-4.11.0, asyncio-1.2.0\nasyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollected 240 items\n\ntests/api/onboarding/test_progress.py ....                               [  1%]\ntests/api/test_ad_push_routes.py ....                                    [  3%]\ntests/api/test_dashboard_service.py .                                    [  3%]\ntests/api/test_plan_routes.py ..                                         [  4%]\ntests/apps/model/test_baseline.py ...                                    [  5%]\ntests/apps/model/test_causal_uplift.py ....                              [  7%]\ntests/apps/model/test_creative_response.py ..                            [  8%]\ntests/apps/model/test_train.py .                                         [  8%]\ntests/apps/model/test_ts_training.py ..                                  [  9%]\ntests/apps/test_ad_push_repository.py ..                                 [ 10%]\ntests/apps/test_adaptive_scheduler.py ...                                [ 11%]\ntests/apps/test_allocator_rollback_executor.py ..                        [ 12%]\ntests/apps/test_dq_monitoring.py .....                                   [ 14%]\ntests/apps/test_google_ads.py ....                                       [ 16%]\ntests/apps/test_meta_ads.py ........                                     [ 19%]\ntests/apps/test_meta_sandbox_executor.py ..                              [ 20%]\ntests/model/test_ensemble.py ..                                          [ 21%]\ntests/model/test_performance_tracker.py ...                              [ 22%]\ntests/model/test_quantile_calibration.py ....                            [ 24%]\ntests/model/test_uplift.py ..                                            [ 25%]\ntests/shared/diffs/test_ad_push.py ...                                   [ 26%]\ntests/shared/libs/test_hardware_probe.py ....                            [ 27%]\ntests/test_ads_ingestion.py .                                            [ 28%]\ntests/test_ads_ingestor_fixtures.py .                                    [ 28%]\ntests/test_allocator.py ..                                               [ 29%]\ntests/test_allocator_hf_response.py ..                                   [ 30%]\ntests/test_allocator_routes.py ..                                        [ 31%]\ntests/test_allocator_stress.py ..                                        [ 32%]\ntests/test_audit.py .                                                    [ 32%]\ntests/test_automation_notifications.py ..                                [ 33%]\ntests/test_automation_service_contracts.py ..                            [ 34%]\ntests/test_catalog.py ..                                                 [ 35%]\ntests/test_catalog_service_contracts.py .                                [ 35%]\ntests/test_command_allowlist.py .....                                    [ 37%]\ntests/test_confidence_metrics.py ...                                     [ 38%]\ntests/test_context_tags.py .                                             [ 39%]\ntests/test_context_warnings.py ....                                      [ 40%]\ntests/test_creative_route.py .                                           [ 41%]\ntests/test_data_context.py .                                             [ 41%]\ntests/test_feature_builder.py .....                                      [ 43%]\ntests/test_feature_generators.py ..                                      [ 44%]\ntests/test_feature_validation.py ....                                    [ 46%]\ntests/test_geocoding.py .....                                            [ 48%]\ntests/test_geocoding_coverage.py .                                       [ 48%]\ntests/test_geocoding_coverage_cli.py ...                                 [ 50%]\ntests/test_geocoding_validation.py ....                                  [ 51%]\ntests/test_google_ads_connector.py ..                                    [ 52%]\ntests/test_health.py .                                                   [ 52%]\ntests/test_incremental_ingestion.py .                                    [ 53%]\ntests/test_incrementality.py ........                                    [ 56%]\ntests/test_ingestion_flow.py .                                           [ 57%]\ntests/test_lake_writer.py ...                                            [ 58%]\ntests/test_marketing_mix_solver.py ..                                    [ 59%]\ntests/test_mcp_tools.py ....                                             [ 60%]\ntests/test_meta_connector.py ...                                         [ 62%]\ntests/test_metrics_cleanup.py ..                                         [ 62%]\ntests/test_model_pipeline.py .                                           [ 63%]\ntests/test_onboarding_contracts.py .                                     [ 63%]\ntests/test_plan_service_context.py ..                                    [ 64%]\ntests/test_plan_service_contracts.py ..                                  [ 65%]\ntests/test_poc_flow.py .                                                 [ 65%]\ntests/test_poc_flow_integration.py s                                     [ 66%]\ntests/test_poc_flow_integration_ads.py .                                 [ 66%]\ntests/test_poc_pipeline_stub_data.py ....                                [ 68%]\ntests/test_privacy.py ..                                                 [ 69%]\ntests/test_promo_ingestion.py .                                          [ 69%]\ntests/test_publish_observability.py ..                                   [ 70%]\ntests/test_rate_limiting.py ......                                       [ 72%]\ntests/test_reporting.py ..                                               [ 73%]\ntests/test_retention.py ...                                              [ 75%]\ntests/test_rl_shadow_mode.py ......                                      [ 77%]\ntests/test_rl_shadow_pipeline.py .                                       [ 77%]\ntests/test_saturation_fairness.py ..                                     [ 78%]\ntests/test_schema_validation.py ......                                   [ 81%]\ntests/test_secrets_check.py ..                                           [ 82%]\ntests/test_secrets_inventory.py ...                                      [ 83%]\ntests/test_settings.py ...                                               [ 84%]\ntests/test_shopify_connector.py ...                                      [ 85%]\ntests/test_shopify_ingestion.py .                                        [ 86%]\ntests/test_shopify_ingestor.py .                                         [ 86%]\ntests/test_smoke_harness.py ...                                          [ 87%]\ntests/test_state_persistence.py .                                        [ 88%]\ntests/test_state_store.py ..                                             [ 89%]\ntests/test_stories.py ..                                                 [ 90%]\ntests/test_story_service_contracts.py .                                  [ 90%]\ntests/test_tagging.py .                                                  [ 90%]\ntests/test_telemetry_summary.py ..                                       [ 91%]\ntests/test_weather_cache.py ..                                           [ 92%]\ntests/test_weather_coordinates.py ..                                     [ 93%]\ntests/test_weather_coverage.py ..                                        [ 94%]\ntests/test_worker_cli.py ......                                          [ 96%]\ntests/test_worker_context.py .                                           [ 97%]\ntests/test_worker_dry_run.py .                                           [ 97%]\ntests/test_worker_logging.py ..                                          [ 98%]\ntests/worker/ingest_to_plan_live/test_live_connectors.py ss              [ 99%]\ntests/worker/test_ad_push_preflight.py ..                                [100%]\n\n=============================== warnings summary ===============================\n../../miniforge3/lib/python3.10/site-packages/starlette/formparsers.py:10\n  /Volumes/BigSSD4/nathanielschmiedehaus/miniforge3/lib/python3.10/site-packages/starlette/formparsers.py:10: PendingDeprecationWarning: Please use `import python_multipart` instead.\n    import multipart\n\n.deps/pydantic/v1/env_settings.py:101\n  /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/.deps/pydantic/v1/env_settings.py:101: FutureWarning: aliases are no longer used by BaseSettings to define which environment variables to read. Instead use the \"env\" field setting. See https://pydantic-docs.helpmanual.io/usage/settings/#environment-variable-names\n    warnings.warn(\n\n.deps/pydantic/_internal/_config.py:291\n  /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/.deps/pydantic/_internal/_config.py:291: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.9/migration/\n    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)\n\n.deps/pydantic/_internal/_generate_schema.py:312: 28 warnings\ntests/api/onboarding/test_progress.py: 8 warnings\ntests/api/test_ad_push_routes.py: 8 warnings\ntests/api/test_plan_routes.py: 3 warnings\n  /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/.deps/pydantic/_internal/_generate_schema.py:312: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.9/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.9/migration/\n    warnings.warn(\n\ntests/test_poc_flow_integration_ads.py::test_pipeline_uses_ads_connectors\ntests/test_worker_context.py::test_worker_flow_emits_context_tags\n  /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/.deps/sklearn/metrics/_regression.py:1211: UndefinedMetricWarning: R^2 score is not well-defined with less than two samples.\n    warnings.warn(msg, UndefinedMetricWarning)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n================= 237 passed, 3 skipped, 52 warnings in 30.69s =================\n\n== Web unit tests ==\n\n> weathervane-web@0.1.0 test\n> vitest run\n\n\n RUN  v2.1.1 /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/apps/web\n\n ✓ ../../tests/web/test_plan_page.spec.ts  (3 tests) 2ms\n ✓ ../../tests/web/test_dashboard.spec.ts  (4 tests) 2ms\n\n Test Files  2 passed (2)\n      Tests  7 passed (7)\n   Start at  10:19:44\n   Duration  520ms (transform 55ms, setup 0ms, collect 56ms, tests 4ms, environment 0ms, prepare 150ms)\n\n\n== MCP vitest suite ==\n\n> wvo-mcp-server@0.1.0 pretest\n> node ./scripts/ensure-sqlite-build.mjs\n\n\n> wvo-mcp-server@0.1.0 test\n> vitest run\n\n\n RUN  v3.2.4 /Volumes/BigSSD4/nathanielschmiedehaus/Documents/WeatherVane/tools/wvo_mcp\n\n ✓ src/state/autopilot_store.test.ts (1 test) 553ms\n   ✓ AutopilotStore > records audits and maintains history  552ms\n ✓ src/tests/worker_manager.test.ts (6 tests) 1043ms\n   ✓ WorkerManager > launches canary workers in dry-run mode by default and allows overrides  361ms\n ✓ src/tests/worker_entry.test.ts (5 tests) 1058ms\n ✓ src/tests/manager_self_check_script.test.ts (8 tests) 1287ms\n ✓ src/tests/self_improvement_correlation.test.ts (1 test) 29ms\n ✓ src/tests/quality_monitor.test.ts (3 tests) 185ms\n ✓ src/tests/live_flags.test.ts (3 tests) 482ms\n   ✓ LiveFlags > enforces DISABLE_NEW kill switch overrides  338ms\n ✓ src/tests/roadmap_sync_correlation.test.ts (1 test) 17ms\n ✓ src/tests/critic_intelligence_engine.test.ts (1 test) 47ms\n ✓ src/tests/operations_manager_costs.test.ts (3 tests) 60ms\n ✓ src/critics/base.test.ts (3 tests) 167ms\n ✓ src/tests/token_efficiency_manager.test.ts (2 tests) 84ms\n ✓ src/tests/code_search.test.ts (2 tests) 114ms\n ✓ src/tests/research_orchestrator.test.ts (1 test) 29ms\n ✓ src/critics/flagship_critics.test.ts (3 tests) 114ms\n ✓ src/tests/research_manager_cache.test.ts (1 test) 21ms\n ✓ src/tests/state_machine_correlation.test.ts (3 tests) 37ms\n ✓ src/tests/upgrade_preflight.test.ts (5 tests) 21ms\n ✓ src/tests/session_correlation.test.ts (1 test) 23ms\n ✓ src/tests/safety_state_store.test.ts (5 tests) 75ms\n ✓ src/tests/task_scheduler_research.test.ts (3 tests) 14ms\n ✓ src/tests/output_validator.test.ts (9 tests) 5ms\n ✓ src/tests/resilience_manager.test.ts (6 tests) 8ms\n ✓ src/tests/task_scheduler_resource.test.ts (1 test) 3ms\n ✓ src/tests/error_recovery_simulation.test.ts (1 test) 27ms\n ✓ src/state/heavy_queue_store.test.ts (1 test) 32ms\n ✓ src/tests/task_scheduler_batch.test.ts (2 tests) 3ms\n ✓ src/tests/consensus_simulation.test.ts (1 test) 11ms\n ✓ src/tests/context_assembler_prompt.test.ts (3 tests) 11ms\n ✓ src/tests/coordinator_network_failure.test.ts (1 test) 6ms\n ✓ src/critics/utils/artifact_validator.test.ts (2 tests) 13ms\n ✓ src/tests/consensus_telemetry.test.ts (1 test) 13ms\n ✓ src/tests/command_allowlist.test.ts (14 tests) 5ms\n ✓ src/tests/worker_client.test.ts (4 tests) 6ms\n ✓ src/telemetry/execution_telemetry.test.ts (2 tests) 3ms\n ✓ src/tests/operations_manager_validation.test.ts (1 test) 3ms\n ✓ src/tests/consensus_engine.test.ts (5 tests) 4ms\n ✓ src/utils/device_profile.test.ts (3 tests) 2ms\n ✓ src/tests/session_critic_performance.test.ts (2 tests) 5ms\n ✓ src/tests/cluster_utils.test.ts (3 tests) 4ms\n ✓ src/tests/coordinator_prompt_header.test.ts (1 test) 3ms\n ✓ src/tests/failover_guardrail.test.ts (4 tests) 3ms\n ✓ src/orchestrator/agent_pool_failover.test.ts (1 test) 3ms\n ✓ src/tests/prompt_cache_parsing.test.ts (3 tests) 3ms\n ✓ src/tests/prompt_headers.test.ts (3 tests) 2ms\n ✓ src/tests/session_critic_strategy.test.ts (2 tests) 2ms\n ✓ src/tests/autopilot_smoke.test.ts (1 test) 5318ms\n   ✓ autopilot smoke mode > completes without invoking real providers  5317ms\n ✓ src/tests/web_inspiration_fetcher.test.ts (2 tests) 11108ms\n   ✓ InspirationFetcher > guides installation when Playwright is missing  11103ms\n ❯ src/tests/autopilot_e2e.test.ts (1 test | 1 failed) 40009ms\n   × autopilot end-to-end loop > produces a summary, updates task memos, and records telemetry using stubbed providers 40009ms\n     → Test timed out in 40000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\".\n\n Test Files  1 failed | 48 passed (49)\n      Tests  1 failed | 140 passed (141)\n   Start at  10:19:45\n   Duration  40.47s (transform 2.00s, setup 0ms, collect 4.87s, tests 62.08s, environment 8ms, prepare 3.34s)\n",
  "stderr": "\u001b[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.\u001b[39m\n{\"level\":\"info\",\"message\":\"Unblocking product work tasks...\",\"timestamp\":\"2025-10-16T15:19:47.339Z\"}\n{\"level\":\"info\",\"message\":\"Unblocked 1 product work tasks\",\"timestamp\":\"2025-10-16T15:19:47.340Z\",\"unblockedCount\":1,\"totalBlocked\":1}\n{\"level\":\"info\",\"message\":\"Running critic command\",\"timestamp\":\"2025-10-16T15:19:47.777Z\",\"critic\":\"TestCritic\",\"cmd\":\"echo test\"}\n{\"level\":\"info\",\"message\":\"Running critic command\",\"timestamp\":\"2025-10-16T15:19:47.811Z\",\"critic\":\"TestsCritic\",\"cmd\":\"bash tools/wvo_mcp/scripts/run_integrity_tests.sh\"}\n{\"level\":\"info\",\"message\":\"Running critic command\",\"timestamp\":\"2025-10-16T15:19:47.812Z\",\"critic\":\"TestCritic\",\"cmd\":\"echo test\"}\n{\"level\":\"info\",\"message\":\"Running critic command\",\"timestamp\":\"2025-10-16T15:19:47.851Z\",\"critic\":\"TestCritic\",\"cmd\":\"echo test\"}\n{\"level\":\"info\",\"message\":\"Provider cost budget nearing threshold\",\"timestamp\":\"2025-10-16T15:19:47.876Z\",\"provider\":\"codex\",\"period\":\"hourly\",\"spentUSD\":0.3,\"limitUSD\":0.5,\"utilizationPercent\":60}\n{\"level\":\"info\",\"message\":\"Scheduler priority profile updated\",\"timestamp\":\"2025-10-16T15:19:47.876Z\",\"reason\":\"execution\",\"mode\":\"balance\",\"profile\":{\"statusWeights\":{\"needs_review\":105,\"needs_improvement\":95,\"pending\":50,\"in_progress\":0,\"blocked\":-25,\"done\":-40},\"complexityBias\":0.9,\"stalenessBias\":1}}\n{\"level\":\"warning\",\"message\":\"Provider cost budget breached\",\"timestamp\":\"2025-10-16T15:19:47.879Z\",\"provider\":\"codex\",\"period\":\"hourly\",\"spentUSD\":0.1,\"limitUSD\":0.05,\"utilizationPercent\":200}\n{\"level\":\"warning\",\"message\":\"Provider cost budget breached\",\"timestamp\":\"2025-10-16T15:19:47.879Z\",\"provider\":\"codex\",\"period\":\"daily\",\"spentUSD\":0.1,\"limitUSD\":0.05,\"utilizationPercent\":200}\n{\"level\":\"info\",\"message\":\"Scheduler priority profile updated\",\"timestamp\":\"2025-10-16T15:19:47.879Z\",\"reason\":\"execution\",\"mode\":\"stabilize\",\"profile\":{\"statusWeights\":{\"needs_review\":120,\"needs_improvement\":120,\"pending\":30,\"in_progress\":0,\"blocked\":-25,\"done\":-40},\"complexityBias\":0.8,\"stalenessBias\":1.1}}\n{\"level\":\"info\",\"message\":\"Running critic command\",\"timestamp\":\"2025-10-16T15:19:47.889Z\",\"critic\":\"TestCritic\",\"cmd\":\"echo test\"}\n{\"level\":\"info\",\"message\":\"Token efficiency manager re-enabled efficient operations live flag\",\"timestamp\":\"2025-10-16T15:19:47.897Z\"}\n{\"level\":\"info\",\"message\":\"Running critic command\",\"timestamp\":\"2025-10-16T15:19:47.924Z\",\"critic\":\"TestCritic\",\"cmd\":\"echo test\"}\n{\"level\":\"info\",\"message\":\"Token efficiency manager compacted context\",\"timestamp\":\"2025-10-16T15:19:47.925Z\",\"reason\":\"token_pressure\",\"before_words\":17657,\"after_words\":391,\"backup\":\"state/backups/context/context-2025-10-16T15-19-47-922Z.md\",\"trimmed_sections\":[\"Current Focus\",\"Guardrails & System Decisions\",\"Risks\",\"Next actions\",\"plan\",\"progress\",\"Global budget\"]}\n{\"level\":\"warning\",\"message\":\"Provider cost budget breached\",\"timestamp\":\"2025-10-16T15:19:47.932Z\",\"provider\":\"codex\",\"period\":\"hourly\",\"spentUSD\":0.6,\"limitUSD\":0.5,\"utilizationPercent\":120}\n{\"level\":\"info\",\"message\":\"Provider cost budget nearing threshold\",\"timestamp\":\"2025-10-16T15:19:47.932Z\",\"provider\":\"codex\",\"period\":\"daily\",\"spentUSD\":0.6,\"limitUSD\":1,\"utilizationPercent\":60}\n{\"level\":\"info\",\"message\":\"Scheduler priority profile updated\",\"timestamp\":\"2025-10-16T15:19:47.932Z\",\"reason\":\"execution\",\"mode\":\"stabilize\",\"profile\":{\"statusWeights\":{\"needs_review\":120,\"needs_improvement\":120,\"pending\":30,\"in_progress\":0,\"blocked\":-25,\"done\":-40},\"complexityBias\":0.8,\"stalenessBias\":1.1}}\n{\"level\":\"info\",\"message\":\"Token efficiency manager re-enabled efficient operations live flag\",\"timestamp\":\"2025-10-16T15:19:47.936Z\"}\n{\"level\":\"info\",\"message\":\"Code search index rebuilt\",\"timestamp\":\"2025-10-16T15:19:48.286Z\",\"filesProcessed\":2,\"durationMs\":19}\n{\"level\":\"info\",\"message\":\"Code search index rebuilt\",\"timestamp\":\"2025-10-16T15:19:48.340Z\",\"filesProcessed\":2,\"durationMs\":2}\n{\"level\":\"info\",\"message\":\"Research trigger queued\",\"timestamp\":\"2025-10-16T15:19:48.589Z\",\"taskId\":\"task-research\",\"triggerType\":\"strategic-decision\",\"confidence\":0.75,\"hints\":[\"Task appears architecturally significant\"]}\n{\"level\":\"info\",\"message\":\"Research trigger queued\",\"timestamp\":\"2025-10-16T15:19:48.590Z\",\"taskId\":\"task-research\",\"triggerType\":\"complexity\",\"confidence\":0.8,\"hints\":[\"High complexity rating (8)\"]}\n{\"level\":\"info\",\"message\":\"Recorded research insights\",\"timestamp\":\"2025-10-16T15:19:48.591Z\",\"taskId\":\"task-research\",\"triggerType\":\"strategic-decision\",\"contextId\":1,\"findings\":1,\"patterns\":1,\"alternatives\":1}\n{\"level\":\"warning\",\"message\":\"MCP capability not set to high; extended critics may be limited.\",\"timestamp\":\"2025-10-16T15:19:49.040Z\",\"wvo_capability\":null,\"codex_profile\":null}\n{\"level\":\"warning\",\"message\":\"Failed to update roadmap.yaml\",\"timestamp\":\"2025-10-16T15:19:49.045Z\",\"taskId\":\"T-session\",\"status\":\"in_progress\",\"error\":\"Task T-session not found in roadmap\"}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.417Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_1\",\"failureType\":\"rate_limit\",\"attemptNumber\":1,\"retriesRemaining\":2}\n{\"level\":\"info\",\"message\":\"Agent on cooldown due to rate limit\",\"timestamp\":\"2025-10-16T15:19:49.417Z\",\"agentId\":\"codex_worker_1\",\"cooldownSeconds\":120,\"taskId\":\"T-recovery\"}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.419Z\",\"taskId\":\"T-recovery\",\"agentId\":\"claude_code_primary\",\"failureType\":\"rate_limit\",\"attemptNumber\":1,\"retriesRemaining\":2}\n{\"level\":\"info\",\"message\":\"Agent on cooldown due to rate limit\",\"timestamp\":\"2025-10-16T15:19:49.419Z\",\"agentId\":\"claude_code_primary\",\"cooldownSeconds\":90,\"taskId\":\"T-recovery\"}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"claude_code_primary\",\"failureType\":\"context_limit\",\"attemptNumber\":1,\"retriesRemaining\":2}\n{\"level\":\"error\",\"message\":\"Context limit exceeded - session too long\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"claude_code_primary\",\"attemptNumber\":1,\"timeSinceLastLimit\":1760627989}\n{\"level\":\"info\",\"message\":\"Emergency checkpoint created\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"reason\":\"context_limit\"}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"claude_code_primary\",\"failureType\":\"context_limit\",\"attemptNumber\":1,\"retriesRemaining\":2}\n{\"level\":\"error\",\"message\":\"Context limit exceeded - session too long\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"claude_code_primary\",\"attemptNumber\":1,\"timeSinceLastLimit\":1760627989}\n{\"level\":\"info\",\"message\":\"Emergency checkpoint created\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"reason\":\"context_limit\"}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"claude_code_primary\",\"failureType\":\"context_limit\",\"attemptNumber\":2,\"retriesRemaining\":1}\n{\"level\":\"error\",\"message\":\"Context limit exceeded - session too long\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"claude_code_primary\",\"attemptNumber\":2,\"timeSinceLastLimit\":0}\n{\"level\":\"error\",\"message\":\"Frequent context limits detected - possible prompt bloat\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"frequency\":0,\"threshold\":300}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"validation\",\"attemptNumber\":1,\"retriesRemaining\":2}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"validation\",\"attemptNumber\":2,\"retriesRemaining\":1}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"validation\",\"attemptNumber\":3,\"retriesRemaining\":0}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.420Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"validation\",\"attemptNumber\":4,\"retriesRemaining\":-1}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.421Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"other\",\"attemptNumber\":1,\"retriesRemaining\":2}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.421Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"other\",\"attemptNumber\":2,\"retriesRemaining\":1}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.421Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"other\",\"attemptNumber\":3,\"retriesRemaining\":0}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.421Z\",\"taskId\":\"T-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"other\",\"attemptNumber\":4,\"retriesRemaining\":-1}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.486Z\",\"taskId\":\"T-error-recovery\",\"agentId\":\"codex_worker_0\",\"failureType\":\"other\",\"attemptNumber\":1,\"retriesRemaining\":2}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.486Z\",\"taskId\":\"T-error-recovery\",\"agentId\":\"claude_code_primary\",\"failureType\":\"context_limit\",\"attemptNumber\":2,\"retriesRemaining\":1}\n{\"level\":\"error\",\"message\":\"Context limit exceeded - session too long\",\"timestamp\":\"2025-10-16T15:19:49.486Z\",\"taskId\":\"T-error-recovery\",\"agentId\":\"claude_code_primary\",\"attemptNumber\":2,\"timeSinceLastLimit\":1760627989}\n{\"level\":\"info\",\"message\":\"Emergency checkpoint created\",\"timestamp\":\"2025-10-16T15:19:49.487Z\",\"taskId\":\"T-error-recovery\",\"reason\":\"context_limit\"}\n{\"level\":\"warning\",\"message\":\"Task execution failed\",\"timestamp\":\"2025-10-16T15:19:49.487Z\",\"taskId\":\"T-error-recovery\",\"agentId\":\"claude_code_primary\",\"failureType\":\"context_limit\",\"attemptNumber\":3,\"retriesRemaining\":0}\n{\"level\":\"error\",\"message\":\"Context limit exceeded - session too long\",\"timestamp\":\"2025-10-16T15:19:49.487Z\",\"taskId\":\"T-error-recovery\",\"agentId\":\"claude_code_primary\",\"attemptNumber\":3,\"timeSinceLastLimit\":0}\n{\"level\":\"error\",\"message\":\"Frequent context limits detected - possible prompt bloat\",\"timestamp\":\"2025-10-16T15:19:49.487Z\",\"taskId\":\"T-error-recovery\",\"frequency\":0.001,\"threshold\":300}\n{\"level\":\"info\",\"message\":\"Consensus decision captured\",\"timestamp\":\"2025-10-16T15:19:49.797Z\",\"taskId\":\"SIM-1\",\"decisionId\":\"CONS-SIM-1-10222c\",\"type\":\"critical\",\"participants\":[\"atlas\",\"claude_council\",\"director_dana\"],\"rationale\":[\"complexity>=7\"]}\n{\"level\":\"info\",\"message\":\"Consensus decision captured\",\"timestamp\":\"2025-10-16T15:19:49.798Z\",\"taskId\":\"SIM-2\",\"decisionId\":\"CONS-SIM-2-6237cf\",\"type\":\"strategic\",\"participants\":[\"atlas\",\"claude_council\"],\"rationale\":[\"status:needs_review\"]}\n{\"level\":\"info\",\"message\":\"Dispatching task with Codex model selection\",\"timestamp\":\"2025-10-16T15:19:49.978Z\",\"taskId\":\"T-network\",\"preset\":\"gpt-5-codex-low\",\"model\":\"gpt-5-codex\",\"reasoning\":\"low\",\"profile\":\"low\",\"rationale\":\"Low complexity fix or follow-up\",\"description\":\"Fastest responses with limited reasoning\"}\n{\"level\":\"warning\",\"message\":\"Network failure detected; task marked as blocked\",\"timestamp\":\"2025-10-16T15:19:49.979Z\",\"taskId\":\"T-network\",\"agent\":\"codex_worker_1\"}\n{\"level\":\"info\",\"message\":\"Scheduler priority profile updated\",\"timestamp\":\"2025-10-16T15:19:50.279Z\",\"reason\":\"validation_failed\",\"mode\":\"balance\",\"profile\":{\"statusWeights\":{\"needs_review\":105,\"needs_improvement\":95,\"pending\":60,\"in_progress\":0,\"blocked\":-25,\"done\":-40},\"complexityBias\":1,\"stalenessBias\":1}}\n{\"level\":\"info\",\"message\":\"Consensus decision captured\",\"timestamp\":\"2025-10-16T15:19:50.471Z\",\"taskId\":\"T-test\",\"decisionId\":\"CONS-T-test-3834d5\",\"type\":\"strategic\",\"participants\":[\"atlas\",\"claude_council\"],\"rationale\":[\"status:needs_review\"]}\n{\"level\":\"info\",\"message\":\"Consensus decision captured\",\"timestamp\":\"2025-10-16T15:19:50.473Z\",\"taskId\":\"T-test\",\"decisionId\":\"CONS-T-test-9646fd\",\"type\":\"strategic\",\"participants\":[\"atlas\",\"claude_council\"],\"rationale\":[\"status:needs_review\"]}\n{\"level\":\"info\",\"message\":\"Consensus decision captured\",\"timestamp\":\"2025-10-16T15:19:50.473Z\",\"taskId\":\"T-test\",\"decisionId\":\"CONS-T-test-1bba37\",\"type\":\"strategic\",\"participants\":[\"atlas\",\"claude_council\"],\"rationale\":[\"status:needs_review\"]}\n{\"level\":\"warning\",\"message\":\"MCP capability not set to high; extended critics may be limited.\",\"timestamp\":\"2025-10-16T15:19:50.569Z\",\"wvo_capability\":null,\"codex_profile\":null}\n{\"level\":\"warning\",\"message\":\"MCP capability not set to high; extended critics may be limited.\",\"timestamp\":\"2025-10-16T15:19:50.573Z\",\"wvo_capability\":null,\"codex_profile\":null}\n{\"level\":\"warning\",\"message\":\"Promoted Codex to coordinator role\",\"timestamp\":\"2025-10-16T15:19:50.810Z\",\"codexId\":\"codex_worker_1\",\"reason\":\"test\",\"claudeStatus\":\"failed\",\"claudeCooldownMs\":10000}\n{\"level\":\"info\",\"message\":\"Demoted Codex coordinator; Claude available again\",\"timestamp\":\"2025-10-16T15:19:50.811Z\",\"codexId\":\"codex_worker_1\"}\n{\"level\":\"warning\",\"message\":\"MCP capability not set to high; extended critics may be limited.\",\"timestamp\":\"2025-10-16T15:19:51.016Z\",\"wvo_capability\":null,\"codex_profile\":null}\n{\"level\":\"warning\",\"message\":\"MCP capability not set to high; extended critics may be limited.\",\"timestamp\":\"2025-10-16T15:19:51.017Z\",\"wvo_capability\":null,\"codex_profile\":null}\n\n⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯\n\n FAIL  src/tests/autopilot_e2e.test.ts > autopilot end-to-end loop > produces a summary, updates task memos, and records telemetry using stubbed providers\nError: Test timed out in 40000ms.\nIf this is a long-running test, pass a timeout value as the last argument or configure it globally with \"testTimeout\".\n ❯ src/tests/autopilot_e2e.test.ts:10:3\n      8| \n      9| describe(\"autopilot end-to-end loop\", () => {\n     10|   it(\n       |   ^\n     11|     \"produces a summary, updates task memos, and records telemetry usi…\n     12|     async () => {\n\n⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯\n",
  "passed": false,
  "analysis": {
    "category": "execution_timeout",
    "confidence": 0.7,
    "rootCauses": [
      "Execution exceeded allotted time window"
    ],
    "recommendations": [
      "Profile slow steps and consider splitting heavy checks."
    ],
    "history": {
      "totalObservations": 20,
      "similarFailures": 1
    }
  },
  "git_sha": "1d17f588246645a205796374eea45bea2b585126",
  "timestamp": "2025-10-16T15:20:26.040Z",
  "identity": {
    "title": "Regression Hunter",
    "mission": "Keep the test suites healthy and ensure deterministic results across flows.",
    "powers": [
      "Surfaces flaky suites and failing assertions with reproduction notes.",
      "Synthesizes minimal repro commands for Autopilot triage."
    ],
    "authority": "blocking",
    "domain": "quality",
    "autonomy_guidance": "Rerun targeted suites automatically; lean on Autopilot only when new failures persist.",
    "preferred_delegates": [
      "Autopilot",
      "Quality Guild"
    ]
  }
}