# Spec — AFP-PROOF-DRIVEN-GAMIFICATION-20251106-REDO

## Acceptance Criteria

1. **Automated Coverage**
   - Vitest suites cover proof system (proof_system, phase_manager, self_improvement) and Wave 0 integration.
   - TypeScript build (`npm run build`) passes with no warnings.

2. **Live Wave 0 Proof Run**
   - A new roadmap task is executed by Wave 0, triggering proof integration and telemetry.
   - Evidence bundle includes verify.md generated by the proof system plus lifecycle telemetry and gamification stats.

3. **Guardrails Compliant**
   - ProcessCritic run succeeds (no PLAN/test issues).
   - Rotation script reports clean ledger; latest daily audit summary committed.

4. **Documentation & Logs**
   - Implementation evidence (`implement.md`, `verify.md`, `review.md`) captures commands, outputs, and follow-up notes.
   - Autopilot log (`state/analytics/wave0_runs.jsonl`) contains the new run entry.

## Functional Requirements

- Add deterministic unit tests under `tools/wvo_mcp/src/prove/__tests__/`.
- Add integration test exercising Wave 0 runner with stub tasks.
- Create a new pending task in `state/roadmap.yaml` for validation and clean it up post-run.
- Generate and store proof evidence (verify.md, telemetry JSON, achievement stats).

## Non-Functional Requirements

- Respect AFP micro-batching (stage commits ≤5 files / ≤150 net LOC).
- Ensure rotation/daily audit scripts run post-changes.
- Automation must be deterministic; rerunning tests yields identical results.

## Out of Scope

- Expanding Wave 0 beyond single-task execution.
- Full production deployment of Wave 0; this is a local proof.
- Building dashboards for achievements (log output only).
