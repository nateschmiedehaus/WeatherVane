epics:
  - id: WAVE-0
    title: Wave 0 – Foundation Stabilisation
    status: in_progress
    domain: mcp
    milestones:
      - id: W0.M1
        title: Reboot Autopilot Core
        status: in_progress
        tasks:
          - id: AFP-ROADMAP-FAST-AUTONOMY-AUDIT
            title: Audit roadmap for fast autonomy + self-improvement
            status: done
            dependencies: []
            exit_criteria:
              - Wave roadmap drafted with <4 week path to autonomy
              - Self-editing + self-improvement tasks enumerated
              - Fast-path milestones documented in state/evidence bundle
            domain: mcp
            description: >
              Completed audit that re-sequenced the roadmap toward autonomy. Provides baseline evidence bundle
              (`state/evidence/AFP-ROADMAP-FAST-AUTONOMY-AUDIT`) and informs the wave rewrite.
          - id: AFP-MVP-SUPERVISOR-SCAFFOLD
            title: MVP supervisor scaffold
            status: in_progress
            dependencies: []
            exit_criteria:
              - `autopilot_mvp/supervisor` reinstated with lease management stubs
              - Telemetry hooks for task lifecycle implemented
              - Passing integration smoke exercising supervisor loop
            domain: mcp
            description: >
              Restore the stripped supervisor skeleton so Autopilot can own task orchestration.
              Implements minimal leasing, logging, and evidence capture to unblock downstream agents.
          - id: AFP-MVP-AGENTS-SCAFFOLD
            title: MVP agents scaffold
            status: done
            dependencies:
              - AFP-MVP-SUPERVISOR-SCAFFOLD
            exit_criteria:
              - Planner, builder, reviewer, and SRE agents reinstated with task contracts
              - Agent registry documented with responsibilities + escalation policies
              - Unit tests covering happy path + failure escalation
            domain: mcp
            description: >
              Provide minimal agent implementations wired into the supervisor so end-to-end flows can execute.
              Focus on contracts, evidence emission, and safe fallbacks.
          - id: AFP-MVP-LIBS-SCAFFOLD
            title: MVP shared libraries scaffold
            status: done
            dependencies:
              - AFP-MVP-SUPERVISOR-SCAFFOLD
            exit_criteria:
              - Shared telemetry, context, and filesystem helpers reintroduced
              - Type-safe contracts between agents and supervisor exported
              - Library README updated with via negativa guardrails
            domain: mcp
            description: >
              Rehydrate the shared utilities Autopilot uses (telemetry, prompts, IO). Keep lean and document patterns.
          - id: AFP-MVP-ADAPTERS-SCAFFOLD
            title: MVP adapters scaffold
            status: pending
            dependencies:
              - AFP-MVP-LIBS-SCAFFOLD
            exit_criteria:
              - Legacy orchestrator integration restored via adapters
              - TTL documented (90 days) with sunset plan
              - End-to-end smoke passes with adapter layer enabled
            domain: mcp
            description: >
              Bridge legacy orchestration paths with the revived MVP stack so Autopilot can pilot existing workloads while new APIs harden.
          - id: AFP-AUTOPILOT-MVP-STRANGLER-20251115
            title: Autopilot MVP clean-room integration
            status: blocked
            dependencies:
              - AFP-MVP-SUPERVISOR-SCAFFOLD
              - AFP-MVP-AGENTS-SCAFFOLD
              - AFP-MVP-LIBS-SCAFFOLD
              - AFP-MVP-ADAPTERS-SCAFFOLD
            exit_criteria:
              - Clean-room autopilot demo passes CI
              - Legacy orchestrator routes traffic through adapter layer
              - Demo evidence package published
            domain: mcp
            description: >
              Meta task that closes when the MVP stack successfully runs the end-to-end demo with the revived scaffolds.
          - id: AFP-DPS-BUILD-20251116
            title: Dynamic Prompt System build
            status: blocked
            dependencies:
              - AFP-MVP-SUPERVISOR-SCAFFOLD
              - AFP-MVP-AGENTS-SCAFFOLD
            exit_criteria:
              - DPS registry reinstated with template coverage for revived agents
              - Prompt schema validated against new roadmap patterns
              - Documentation updated under `docs/autopilot/dps.md`
            domain: mcp
            description: >
              Rebuild the Dynamic Prompt System once supervisor + agents scaffolds exist so Autopilot can reason with updated templates.
          - id: AFP-MEMORY-CORE-20251117
            title: Memory core bootstrap
            status: blocked
            dependencies:
              - AFP-DPS-BUILD-20251116
            exit_criteria:
              - Semantic memory store seeded with lessons + telemetry
              - APIs exposed for agents to read/write learnings
              - Memory integrity tests added
            domain: mcp
            description: >
              Stand up the semantic memory layer that powers lesson persistence and future self-improvement loops.
          - id: AFP-WORKTREE-STABILIZE-20251109
            title: Worktree stability & git hygiene
            status: in_progress
            dependencies: []
            exit_criteria:
              - No git index.lock incidents across 5 consecutive Autopilot runs
              - Git hygiene critic passes with zero warnings
              - Stash/restore flows documented and automated
            domain: mcp
            description: >
              Repair git hygiene (stashes, locks, dirty trees) so Autopilot can operate unattended without corrupting the repo.
          - id: AFP-W0-GUARDRAIL-BASELINE
            title: Baseline AFP/SCAS guardrail enforcement
            status: pending
            dependencies:
              - AFP-MVP-SUPERVISOR-SCAFFOLD
              - AFP-MVP-AGENTS-SCAFFOLD
            exit_criteria:
              - Ledger integrity checker automated
              - Override log review cadence defined
              - Smart LOC + micro-batching guardrails verified on revived stack
            domain: mcp
            description: >
              Ensure core guardrails (ledger, override controls, micro-batching) hold after the MVP scaffolds return.
          - id: AFP-W0-EXIT-READINESS
            title: Wave 0 exit readiness review
            status: blocked
            dependencies:
              - AFP-AUTOPILOT-MVP-STRANGLER-20251115
              - AFP-W0-GUARDRAIL-BASELINE
              - AFP-WORKTREE-STABILIZE-20251109
            exit_criteria:
              - Supervisor + agents running in unattended loop (>=4 hour soak)
              - Guardrail dashboard green
              - Evidence bundle published in `state/evidence/AFP-W0-EXIT-READINESS`
            domain: mcp
            description: >
              Formal gate confirming Autopilot can run for extended periods without human babysitting before governance tightening begins.

  - id: WAVE-1
    title: Wave 1 – Governance & AFP Enforcement
    status: pending
    domain: mcp
    milestones:
      - id: W1.M1
        title: Enforce AFP lifecycle & roadmap gating
        status: pending
        tasks:
          - id: AFP-S1-BOOTSTRAP
            title: Stage 1 bootstrap audit
            status: in_progress
            dependencies:
              - AFP-W0-EXIT-READINESS
            exit_criteria:
              - Stage 1 checklist reconciled with revived MVP stack
              - Evidence bundle updated for gaps
              - Blocking issues escalated to roadmap
            domain: mcp
            description: >
              Confirm Stage 1 foundations remain intact post Wave 0 and document delta work.
          - id: AFP-S1-GUARDRAILS
            title: Baseline guardrail catalog
            status: pending
            dependencies:
              - AFP-S1-BOOTSTRAP
            exit_criteria:
              - Guardrail catalog in `meta/afp_scas_guardrails.yaml`
              - Automated evaluation script passes
              - Guardrail documentation updated
            domain: mcp
            description: >
              Ensure guardrail catalog + enforcement extend across revived stack.
          - id: AFP-S1-LEDGER
            title: Work ledger verification
            status: pending
            dependencies:
              - AFP-S1-BOOTSTRAP
            exit_criteria:
              - Ledger schema validated
              - Tamper detection tests passing
              - Ledger maintenance runbook published
            domain: mcp
            description: >
              Harden ledger pipeline, confirm tamper detection, and document response paths.
          - id: AFP-S1-WORK-PROCESS-ENFORCE
            title: Work process enforcement
            status: pending
            dependencies:
              - AFP-S1-GUARDRAILS
              - AFP-S1-LEDGER
            exit_criteria:
              - Pre-commit hook rejects missing evidence phases
              - Automated overrides report delivered weekly
              - DesignReviewer integrated into workflow
            domain: mcp
            description: >
              Close the loop so agents cannot skip AFP phases or bypass guardrails unnoticed.
          - id: AFP-S1-ENFORCEMENT-PROOF
            title: Guardrail enforcement proof
            status: blocked
            dependencies:
              - AFP-S1-WORK-PROCESS-ENFORCE
            exit_criteria:
              - Live run demonstrating guardrail catch + remediation
              - Report stored in `state/analytics/guardrail_enforcement.json`
              - Dana sign-off recorded in roadmap notes
            domain: mcp
            description: >
              Demonstrate end-to-end enforcement by intentionally triggering a violation and capturing recovery evidence.
          - id: AFP-W1-GOVERNANCE-LOCK
            title: Update governance docs & mandates
            status: pending
            dependencies:
              - AFP-S1-WORK-PROCESS-ENFORCE
            exit_criteria:
              - `AGENTS.md`, `MANDATORY_WORK_CHECKLIST.md`, roadmap rules all reference waves
              - Wave-first execution policy communicated
              - Compliance audit checklist published
            domain: mcp
            description: >
              Align documentation and human processes with the new wave roadmap and enforcement requirements.
          - id: AFP-W1-DESIGNREVIEWER-LOOP
            title: DesignReviewer & remediation loop
            status: pending
            dependencies:
              - AFP-S1-WORK-PROCESS-ENFORCE
            exit_criteria:
              - `npm run gate:review` automated in workflow
              - Remediation task template defined
              - Analytics log `state/analytics/design_reviews.jsonl` populated
            domain: mcp
            description: >
              Ensure design reviews are enforced, logged, and produce actionable remediation when blocked.
          - id: AFP-W1-ROADMAP-GUARDRAILS
            title: Roadmap gating automation
            status: pending
            dependencies:
              - AFP-W1-GOVERNANCE-LOCK
              - AFP-W1-DESIGNREVIEWER-LOOP
            exit_criteria:
              - `plan_next` highlights wave order
              - Roadmap parser rejects off-wave tasks without exception
              - Intake workflow updated with wave metadata
            domain: mcp
            description: >
              Wire wave priorities into MCP tooling so agents and Autopilot receive consistent guidance.
          - id: AFP-W1-EXIT-READINESS
            title: Wave 1 exit readiness review
            status: blocked
            dependencies:
              - AFP-S1-ENFORCEMENT-PROOF
              - AFP-W1-ROADMAP-GUARDRAILS
            exit_criteria:
              - Governance audit report complete
              - Zero outstanding guardrail violations
              - Evidence bundle `state/evidence/AFP-W1-EXIT-READINESS` published
            domain: mcp
            description: >
              Gate ensuring AFP enforcement is working before investing in knowledge base automation.

  - id: WAVE-2
    title: Wave 2 – Local Knowledge Base Deployment
    status: pending
    domain: mcp
    milestones:
      - id: W2.M1
        title: README automation & structural health
        status: pending
        tasks:
          - id: AFP-W2-README-TEMPLATE
            title: Module README template & guidance
            status: pending
            dependencies:
              - AFP-W1-EXIT-READINESS
            exit_criteria:
              - `docs/templates/module_readme_template.md` created
              - Usage guide added to `docs/README_AUTOMATION.md`
              - Examples generated for ≥3 core modules
            domain: mcp
            description: >
              Provide a reusable template so teams can add contextual notes above the generated block.
          - id: AFP-W2-README-GENERATION
            title: Generate missing module READMEs
            status: pending
            dependencies:
              - AFP-W2-README-TEMPLATE
            exit_criteria:
              - At least 25 missing READMEs generated
              - READMEs include critical evaluation section
              - Manifest updated with new directories
            domain: mcp
            description: >
              Run docsync to seed missing knowledge with curated allowlists and manifest updates.
          - id: AFP-W2-MODULE-INDEX
            title: Module navigation index
            status: pending
            dependencies:
              - AFP-W2-README-GENERATION
            exit_criteria:
              - `docs/MODULE_INDEX.md` generated from manifest
              - Index linked from `AGENTS.md`
              - Update script documented
            domain: mcp
            description: >
              Create a single entry point for agents to locate modules, owners, dependents, and key docs.
          - id: AFP-W2-DEPENDENCY-DIAGRAMS
            title: Dependency diagrams
            status: pending
            dependencies:
              - AFP-W2-README-GENERATION
            exit_criteria:
              - Mermaid diagrams produced for tracked modules
              - Diagrams embedded in READMEs or linked index
              - CI check ensures diagrams regenerate when manifest changes
            domain: mcp
            description: >
              Visualise module relationships to boost locality awareness for agents and Autopilot.
          - id: AFP-W2-FIRST-TIME-GUIDES
            title: First-time here guides
            status: pending
            dependencies:
              - AFP-W2-MODULE-INDEX
            exit_criteria:
              - `docs/FIRST_TIME_ORCHESTRATOR.md` authored
              - Template for module onboarding created
              - Linked from relevant READMEs
            domain: mcp
            description: >
              Provide concise onboarding instructions for new contributors to reduce ramp friction.
          - id: AFP-W2-AUTO-UPDATES
            title: README auto-update guardrails
            status: pending
            dependencies:
              - AFP-W2-README-GENERATION
            exit_criteria:
              - `.docsyncignore` finalized and committed
              - Analyzer directory cap enforced via tests
              - CI job ensures manifest stays current
            domain: mcp
            description: >
              Harden docsync to avoid runaway generations and ensure manifest accuracy.
          - id: AFP-W2-MANIFEST-TELEMETRY
            title: Manifest telemetry & remediation loop
            status: pending
            dependencies:
              - AFP-W2-AUTO-UPDATES
            exit_criteria:
              - `state/analytics/readme_manifest.json` captures metrics & warning counts
              - Automation opens roadmap tasks for critical warnings
              - README sync log reviewed weekly
            domain: mcp
            description: >
              Connect README metrics to roadmap/critics so structural issues trigger action.
          - id: AFP-W2-EXIT-READINESS
            title: Wave 2 exit readiness review
            status: blocked
            dependencies:
              - AFP-W2-MODULE-INDEX
              - AFP-W2-AUTO-UPDATES
              - AFP-W2-MANIFEST-TELEMETRY
            exit_criteria:
              - README automation runs clean in CI
              - Knowledge base scorecard published
              - Evidence bundle `state/evidence/AFP-W2-EXIT-READINESS` complete
            domain: mcp
            description: >
              Gate verifying the knowledge base is trustworthy before running autonomy stress tests.

  - id: WAVE-3
    title: Wave 3 – Autonomy Stress Tests & Reliability
    status: pending
    domain: mcp
    milestones:
      - id: W3.M1
        title: Prove Autopilot reliability on WeatherVane work
        status: pending
        tasks:
          - id: AFP-W3-AUTONOMY-PLAYBOOKS
            title: Autonomy task playbooks
            status: pending
            dependencies:
              - AFP-W2-EXIT-READINESS
            exit_criteria:
              - Catalogue of ≥5 representative WeatherVane tasks
              - For each task: prerequisites, critics, verification script
              - Stored in `docs/autonomy/autonomy_playbooks.md`
            domain: mcp
            description: >
              Define the scenarios Autopilot must execute to claim reliability (schema change, worker fix, UI tweak, etc.).
          - id: AFP-W3-EXECUTE-QUEUE
            title: Execute autonomy queue
            status: blocked
            dependencies:
              - AFP-W3-AUTONOMY-PLAYBOOKS
            exit_criteria:
              - Autopilot completes ≥5 playbooks end-to-end
              - Evidence packages stored under `state/evidence/autonomy_runs/`
              - Success rate ≥95%
            domain: mcp
            description: >
              Run the curated queue unattended; capture metrics, remediation, and human audits.
          - id: AFP-W3-FAULT-DRILLS
            title: Fault drills & chaos tests
            status: pending
            dependencies:
              - AFP-W3-AUTONOMY-PLAYBOOKS
            exit_criteria:
              - Simulated git conflict, critic failure, build break executed
              - Autopilot recovery documented with timeline + fix
              - Chaos drill report logged in `state/analytics/autonomy_faults.json`
            domain: mcp
            description: >
              Prove Autopilot can recover gracefully from expected failure scenarios.
          - id: AFP-W3-ROLLBACK-READINESS
            title: Rollback & kill-switch rehearsal
            status: pending
            dependencies:
              - AFP-W3-FAULT-DRILLS
            exit_criteria:
              - Rollback procedure executed and timed
              - Kill-switch documented and tested
              - On-call escalation tree finalized
            domain: ops
            description: >
              Ensure operations can quickly disable Autopilot or revert changes when required.
          - id: AFP-W3-RELIABILITY-DASHBOARD
            title: Reliability dashboard
            status: blocked
            dependencies:
              - AFP-W3-EXECUTE-QUEUE
              - AFP-W3-ROLLBACK-READINESS
            exit_criteria:
              - Dashboard added under `dashboards/`
              - Metrics include success rate, MTTR, guardrail incidents
              - Alerts configured for regressions
            domain: ops
            description: >
              Provide persistent visibility into autonomy performance and guardrail health.
          - id: AFP-W3-EXIT-READINESS
            title: Wave 3 exit readiness review
            status: blocked
            dependencies:
              - AFP-W3-EXECUTE-QUEUE
              - AFP-W3-RELIABILITY-DASHBOARD
            exit_criteria:
              - Reliability report delivered to leadership
              - Audit trail stored in `state/evidence/AFP-W3-EXIT-READINESS`
              - Approval recorded for proceeding to gauntlet
            domain: mcp
            description: >
              Confirms Autopilot is reliable enough to tackle the autonomy gauntlet.

  - id: WAVE-4
    title: Wave 4 – Autonomy Proof Gauntlet
    status: pending
    domain: mcp
    milestones:
      - id: W4.M1
        title: Build arbitrary software end-to-end
        status: pending
        tasks:
          - id: AFP-W4-BUILD-GAME
            title: Autopilot builds a game
            status: blocked
            dependencies:
              - AFP-W3-EXIT-READINESS
            exit_criteria:
              - New repo module `experiments/autopilot_game` created entirely by Autopilot
              - Includes tests, README, and CI pipeline
              - Human review verifies zero manual edits beyond audit
            domain: product
            description: >
              Demonstrate creative build capability by shipping a small interactive game using Autopilot only.
          - id: AFP-W4-BUILD-CLI
            title: Autopilot builds a CLI tool
            status: blocked
            dependencies:
              - AFP-W3-EXIT-READINESS
            exit_criteria:
              - CLI tool published under `tools/` with packaging + README
              - `make test` suite covers commands
              - Release notes + telemetry captured
            domain: mcp
            description: >
              Prove Autopilot can design, implement, and document a command-line utility from scratch.
          - id: AFP-W4-BUILD-SERVICE
            title: Autopilot builds an API/service
            status: blocked
            dependencies:
              - AFP-W3-EXIT-READINESS
            exit_criteria:
              - Service deployed locally (FastAPI/Next.js) with README + tests
              - Observability hooks integrated
              - Deployment instructions validated by reviewer
            domain: mcp
            description: >
              Produce a functioning service demonstrating Autopilot’s ability to stitch backend + documentation.
          - id: AFP-W4-DOCUMENTATION-AUDIT
            title: Documentation & knowledge audit
            status: blocked
            dependencies:
              - AFP-W4-BUILD-GAME
              - AFP-W4-BUILD-CLI
              - AFP-W4-BUILD-SERVICE
            exit_criteria:
              - README automation adapts to new modules automatically
              - Auditor verifies knowledge propagation up/down hierarchy
              - Audit stored in `docs/AUTONOMY_PROOF_REPORT.md`
            domain: mcp
            description: >
              Ensure new modules integrate seamlessly into knowledge base and structural health systems.
          - id: AFP-W4-RELIABILITY-100
            title: 100% reliability proof
            status: blocked
            dependencies:
              - AFP-W4-DOCUMENTATION-AUDIT
            exit_criteria:
              - Telemetry demonstrates 100% success across gauntlet tasks
              - Third-party review certifies autonomy proof
              - Executive sign-off captured
            domain: ops
            description: >
              Formal declaration Autopilot can program anything we need, backed by metrics and audit.
          - id: AFP-W4-EXIT-READINESS
            title: Wave 4 exit readiness review
            status: blocked
            dependencies:
              - AFP-W4-RELIABILITY-100
            exit_criteria:
              - Autonomy proof report delivered
              - Lessons learned logged to knowledge base
              - Approval granted to move into continuous evolution
            domain: mcp
            description: >
              Gate verifying the autonomy gauntlet is complete and documented.

  - id: WAVE-5
    title: Wave 5 – Continuous Evolution & Monitoring
    status: pending
    domain: mcp
    milestones:
      - id: W5.M1
        title: Institutionalise autonomy operations
        status: pending
        tasks:
          - id: AFP-ROADMAP-SCHEMA
            title: Roadmap schema & validation
            status: pending
            dependencies:
              - AFP-W4-EXIT-READINESS
            exit_criteria:
              - JSON schema for roadmap published
              - Validation script integrated into CI
              - Documentation added to `docs/roadmap/schema.md`
            domain: mcp
            description: >
              Define and validate the roadmap schema so Autopilot can safely mutate it.
          - id: AFP-ROADMAP-MUTATION-API
            title: Roadmap mutation API
            status: pending
            dependencies:
              - AFP-ROADMAP-SCHEMA
            exit_criteria:
              - Programmatic API for roadmap edits implemented
              - Permission model + guardrails enforced
              - Unit tests cover add/update/remove flows
            domain: mcp
            description: >
              Enable Autopilot to evolve the roadmap autonomously under strict guardrails.
          - id: AFP-ROADMAP-GUARDRAILS
            title: Roadmap mutation guardrails
            status: pending
            dependencies:
              - AFP-ROADMAP-MUTATION-API
            exit_criteria:
              - Guardrails prevent regressions (cycles, >5 files, missing evidence)
              - Fuzz tests simulate invalid mutations
              - Alerts fire when guardrails triggered
            domain: mcp
            description: >
              Protect roadmap integrity when mutations occur automatically.
          - id: AFP-ROADMAP-VALIDATION
            title: Roadmap validation pipeline
            status: pending
            dependencies:
              - AFP-ROADMAP-SCHEMA
              - AFP-ROADMAP-GUARDRAILS
            exit_criteria:
              - CI workflow validating roadmap on every PR
              - Validation summary appended to PR comment
              - Documentation linked from governance section
            domain: mcp
            description: >
              Provide continuous verification before roadmap changes merge.
          - id: AFP-QUALITY-METRICS
            title: Autonomy quality metrics
            status: pending
            dependencies:
              - AFP-W4-EXIT-READINESS
            exit_criteria:
              - Metrics defined (throughput, defect rate, overrides)
              - Data pipeline populates `state/analytics/autonomy_metrics.json`
              - Dashboard visualising metrics online
            domain: ops
            description: >
              Provide ongoing insight into autonomy performance.
          - id: AFP-FEEDBACK-LOOP
            title: Autonomy feedback loop
            status: pending
            dependencies:
              - AFP-QUALITY-METRICS
              - AFP-MEMORY-CORE-20251117
            exit_criteria:
              - Feedback loop spec documented
              - Automated process learns from metrics and creates improvement tasks
              - At least one improvement cycle executed
            domain: mcp
            description: >
              Close the loop so Autopilot iteratively improves based on metrics.
          - id: AFP-SELF-REFACTOR
            title: Self-refactor capability
            status: pending
            dependencies:
              - AFP-FEEDBACK-LOOP
            exit_criteria:
              - Autopilot performs a self-directed refactor with verification
              - Evidence package stored under `state/evidence/autonomy_refactors/`
              - Post-mortem documents benefits and learnings
            domain: mcp
            description: >
              Demonstrate Autopilot can refactor its own code safely.
          - id: AFP-LESSON-PERSISTENCE
            title: Lesson persistence & memory
            status: pending
            dependencies:
              - AFP-MEMORY-CORE-20251117
              - AFP-FEEDBACK-LOOP
            exit_criteria:
              - Lessons persisted across sessions
              - Memory audit shows retrieval working
              - Lessons integrated into playbooks
            domain: mcp
            description: >
              Ensure Autopilot retains insights from prior runs and uses them in future decisions.
          - id: AFP-HIERARCHICAL-WORK-PROCESSES-20251105
            title: Hierarchical work processes with meta-review
            status: pending
            dependencies:
              - AFP-ROADMAP-MUTATION-API
              - AFP-ROADMAP-GUARDRAILS
            exit_criteria:
              - Task set work process template exists and enforced
              - Epic work process template exists and enforced
              - Meta-review runs automatically after each execution
              - Remediation tasks created immediately when flaws found
              - Work process templates can evolve incrementally
              - Metrics define "better" quantitatively for each process type
              - Pre-commit hooks enforce process compliance
              - ProcessEnforcementCritic validates compliance
            domain: mcp
            description: >
              Enable autopilot to reason at all organizational levels (task, task set, epic)
              and continuously improve processes via meta-review. Key capabilities: (1)
              Hierarchical processes - Task set coherence review (6 phases: ASSESS, VALIDATE,
              VIA_NEGATIVA, OPTIMIZE, DOCUMENT, META-REVIEW), Epic strategic validation (7
              phases: STRATEGIZE, ALTERNATIVES, ROI, VIA_NEGATIVA, STRUCTURE, DOCUMENT,
              META-REVIEW). (2) Self-editing - Processes can propose mutations to roadmap
              structure via mutation API. (3) Meta-review - Processes review their own
              effectiveness, identify flaws (effectiveness, efficiency, coverage), create
              remediation tasks automatically (mandatory, not optional). (4) Open evolution -
              Templates improve incrementally (max 20% change per iteration), A/B testing,
              auto-rollback if metrics degrade. (5) Enforcement - Multi-layer: pre-commit
              hooks, ProcessEnforcementCritic, autopilot self-check. Deliverables: 12 files
              (~1500 LOC) across 4 sub-tasks - (T1) Schema + mutation API, (T2) Hierarchical
              executor + templates, (T3) Enforcement (hooks + critic), (T4) Documentation +
              roadmap integration. User requirements: "meta reviews that create and immediately
              do followup remediation tasks", "open evolution with clear measurement of what
              'better' means", "all of this must be enforced".
          - id: AFP-W5-MONITORING-DECK
            title: Autonomy monitoring deck
            status: pending
            dependencies:
              - AFP-QUALITY-METRICS
            exit_criteria:
              - Executive-ready deck summarising autonomy health
              - Updated monthly via automation
              - Shared in `/dashboards/autonomy/monitoring.md`
            domain: ops
            description: >
              Provide leadership with ongoing visibility into autonomy status and improvements.
          - id: AFP-W5-EXIT-READINESS
            title: Wave 5 exit readiness review
            status: blocked
            dependencies:
              - AFP-ROADMAP-VALIDATION
              - AFP-LESSON-PERSISTENCE
              - AFP-W5-MONITORING-DECK
            exit_criteria:
              - Continuous evolution loop proven for 90 days
              - Monitoring & mutation guardrails green
              - Evidence bundle `state/evidence/AFP-W5-EXIT-READINESS` published
            domain: mcp
            description: >
              Final gate: confirms autonomy is self-sustaining and well monitored.

  - id: LEGACY-BACKLOG
    title: Legacy Product Backlog (post-autonomy)
    status: blocked
    domain: product
    milestones:
      - id: LEGACY.MARKETING
        title: Marketing product backlog
        status: blocked
        tasks:
          - id: LEGACY-PHASE0
            title: Phase 0 – Measurement & Confidence (archived)
            status: blocked
            dependencies:
              - AFP-W5-EXIT-READINESS
            exit_criteria:
              - Reactivated only after autonomy proof complete
            domain: product
            description: >
              Historical product roadmap phases retained for reference. Reactivate once autonomy waves complete.
          - id: LEGACY-PHASE1
            title: Phase 1 – Experience Delivery (archived)
            status: blocked
            dependencies:
              - AFP-W5-EXIT-READINESS
            exit_criteria:
              - Autonomy sign-off to resume customer roadmap
            domain: product
            description: >
              Consolidated placeholder for prior Phase 1 backlog. Details reside in git history.
