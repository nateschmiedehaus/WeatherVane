(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{5751:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/setup",function(){return a(413)}])},9605:function(e,s,a){"use strict";a.d(s,{B:function(){return l}});var n=a(5893),t=a(4221),o=a.n(t);let i={ready:"Connected",in_progress:"Configuring",action_needed:"Action needed"},c={ready:"success",in_progress:"caution",action_needed:"critical"};function l(e){let{connectors:s,title:a="Connector readiness",metaLabel:t,loading:l=!1,isFallback:r=!1,errorMessage:d,emptyMessage:u="Connectors will appear here after your first ingestion run completes.",limit:p,className:h}=e,_="number"==typeof p?s.slice(0,p):s,m=[o().container,"ds-surface-panel","ds-transition",h].filter(Boolean).join(" ");return(0,n.jsxs)("section",{className:m,"aria-live":"polite",children:[(0,n.jsxs)("header",{className:o().header,children:[(0,n.jsxs)("div",{className:o().titleRow,children:[(0,n.jsx)("h5",{className:"ds-subtitle",children:a}),(0,n.jsxs)("div",{className:o().meta,children:[t&&(0,n.jsx)("span",{className:"ds-caption",children:t}),(0,n.jsx)("div",{className:o().metaBadges,children:l?(0,n.jsx)("span",{className:"ds-badge ".concat(o().badge),"data-tone":"info",children:"Syncing…"}):r?(0,n.jsx)("span",{className:"ds-badge ".concat(o().badge),"data-tone":"info",children:"Demo snapshot"}):(0,n.jsx)("span",{className:"ds-badge ".concat(o().badge),"data-tone":"success",children:"Live snapshot"})})]})]}),d&&(0,n.jsxs)("p",{className:"".concat(o().notice," ds-caption"),role:"status",children:["Showing demo data while the live snapshot loads — ",d]})]}),0===_.length?(0,n.jsx)("p",{className:"".concat(o().empty," ds-body"),children:u}):(0,n.jsx)("ul",{className:o().list,children:_.map(e=>(0,n.jsxs)("li",{className:"".concat(o().item," ds-surface-card ds-transition"),"data-status":e.status,"data-tone":c[e.status],children:[(0,n.jsxs)("div",{className:o().itemHeader,children:[(0,n.jsx)("strong",{className:"ds-body-strong",children:e.label}),(0,n.jsx)("span",{className:"ds-badge ".concat(o().statusBadge),"data-tone":c[e.status],children:i[e.status]})]}),e.summary&&(0,n.jsx)("p",{className:"".concat(o().summary," ds-body"),children:e.summary}),(0,n.jsxs)("div",{className:"".concat(o().progressRow," ds-caption"),children:[(0,n.jsxs)("span",{children:[e.progress,"%"]}),(0,n.jsx)("div",{className:o().progressBar,"aria-hidden":"true",children:(0,n.jsx)("div",{className:o().progressFill,style:{transform:"scaleX(".concat(Math.max(e.progress,0)/100,")")}})}),e.focus&&(0,n.jsx)("span",{children:e.focus})]}),(0,n.jsxs)("div",{className:"".concat(o().footer," ds-caption"),children:[(0,n.jsx)("span",{children:e.timeAgo}),e.action&&(0,n.jsx)("span",{className:"".concat(o().action," ds-pill"),children:e.action})]})]},e.slug))})]})}},413:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var n,t=a(5893),o=a(7294),i=a(9008),c=a.n(i),l=a(1163),r=a(6142),d=a(2570),u=a(9605),p=a(742),h=a(6091),_=a(1853),m=a(5121),g=a.n(m);let v=null!==(n=a(3454).env.NEXT_PUBLIC_TENANT_ID)&&void 0!==n?n:"demo-tenant";function b(e){if(!e)return null;let s=new Date(e);return Number.isNaN(s.getTime())?null:s.toLocaleString()}let x=[{value:"live",label:"Live tenant",helper:"Connector runs and guardrail audits from your production tenant."},{value:"demo",label:"Guided demo snapshot",helper:"Use the safe sandbox while rehearsing the hand-off with stakeholders."}];function f(){var e,s,a,n,i,m;let f=(0,l.useRouter)(),[N,j]=(0,o.useState)("live"),[y,w]=(0,o.useState)(!1),k=(0,o.useRef)("live"),{isDemoActive:B,activateDemo:S,resetDemo:A}=(0,_.F)();(0,o.useEffect)(()=>{if(!f.isReady)return;let e="demo"===f.query.mode?"demo":"live";k.current=e,j(e)},[f.isReady,f.query.mode]),(0,o.useEffect)(()=>{f.isReady&&!y&&(w(!0),(0,h.HZ)(v,"setup.opened",N,{initial_mode:k.current,demo_active:B}))},[f.isReady,y,N,B]);let R=(0,p.v)({tenantId:v,mode:N}),C=R.connectors,H=R.audits,E=(0,o.useMemo)(()=>C.filter(e=>"ready"===e.status).length,[C]),T=(0,o.useMemo)(()=>{let e=["".concat(E," of ").concat(C.length," connected")];if(R.loading)e.push("syncing…");else{var s,a;let n=b(null!==(a=null===(s=R.snapshot)||void 0===s?void 0:s.generated_at)&&void 0!==a?a:null);n&&e.push("updated ".concat(n))}return R.isFallback?e.push("live"===N?"fallback to demo":"demo snapshot"):e.push("live"===N?"live snapshot":"guided snapshot"),e.join(" \xb7 ")},[C,E,R.loading,null===(e=R.snapshot)||void 0===e?void 0:e.generated_at,R.isFallback,N]),L=(0,o.useMemo)(()=>{var e,s;let a="live"===N?"Live guardrails":"Demo proof";if(R.loading)return"".concat(a," \xb7 syncing…");let n=b(null!==(s=null===(e=R.snapshot)||void 0===e?void 0:e.generated_at)&&void 0!==s?s:null);return n?"".concat(a," \xb7 updated ").concat(n):a},[N,R.loading,null===(s=R.snapshot)||void 0===s?void 0:s.generated_at]),M=(0,o.useMemo)(()=>C.filter(e=>e.action),[C]),P=(0,o.useCallback)(e=>{N!==e&&(j(e),f.replace({pathname:f.pathname,query:"live"===e?{}:{mode:"demo"}},void 0,{shallow:!0}),(0,h.HZ)(v,"setup.mode_changed",e,{from_mode:N,demo_active:B}))},[N,f,B]),D=(0,o.useCallback)(async()=>{A(),await (0,h.HZ)(v,"setup.view_live_plan",N,{demo_active_before:B}),await f.push("/plan")},[N,A,f,B]),G=(0,o.useCallback)(async()=>{S(),await (0,h.HZ)(v,"setup.revisit_demo_plan",N,{demo_active_before:B}),await f.push({pathname:"/plan",query:{demo:"1"}})},[S,N,f,B]);return(0,t.jsxs)(d.A,{children:[(0,t.jsx)(c(),{children:(0,t.jsx)("title",{children:"WeatherVane \xb7 Setup"})}),(0,t.jsxs)("div",{className:g().root,children:[(0,t.jsx)("section",{className:g().hero,"aria-label":"Demo to live bridge",children:(0,t.jsxs)("div",{className:g().heroSplit,children:[(0,t.jsxs)("div",{className:g().heroCopy,children:[(0,t.jsx)("p",{className:"".concat(g().heroEyebrow," ds-eyebrow"),children:"Demo → live bridge"}),(0,t.jsx)("h2",{className:"".concat(g().heroTitle," ds-display"),children:"Launch your WeatherVane setup"}),(0,t.jsx)("p",{className:"".concat(g().heroBody," ds-body"),children:"Track connector readiness, guardrail proofs, and hand-offs so the plan from the guided tour becomes a production workflow. Toggle between demo and live snapshots at any time."}),(0,t.jsxs)("div",{className:g().heroActions,children:[(0,t.jsx)("button",{type:"button",className:g().primaryAction,onClick:D,children:"View live plan"}),(0,t.jsx)("button",{type:"button",className:g().secondaryAction,onClick:G,children:"Revisit demo plan"})]})]}),(0,t.jsxs)("div",{className:g().modeSwitch,children:[(0,t.jsx)("h3",{className:"".concat(g().modeHeading," ds-caption"),children:"Snapshot mode"}),(0,t.jsx)("div",{className:g().modeButtons,children:x.map(e=>{let s=N===e.value;return(0,t.jsxs)("button",{type:"button",className:"".concat(g().modeButton," ").concat(s?g().modeButtonActive:""),onClick:()=>P(e.value),"aria-pressed":s,children:[(0,t.jsx)("span",{className:g().modeLabel,children:e.label}),(0,t.jsx)("span",{className:g().modeHelper,children:e.helper})]},e.value)})})]})]})}),(0,t.jsxs)("section",{className:g().progressSection,"aria-label":"Connector and automation progress",children:[(0,t.jsx)("h3",{className:"".concat(g().progressHeading," ds-title"),children:"Progress trackers"}),(0,t.jsxs)("div",{className:g().progressGrid,children:[(0,t.jsx)(u.B,{connectors:C,metaLabel:T,loading:R.loading,isFallback:R.isFallback,errorMessage:null!==(i=null===(a=R.error)||void 0===a?void 0:a.message)&&void 0!==i?i:null,className:g().panel}),(0,t.jsx)(r.P,{audits:H,metaLabel:L,loading:R.loading,isFallback:R.isFallback,errorMessage:null!==(m=null===(n=R.error)||void 0===n?void 0:n.message)&&void 0!==m?m:null,className:g().panel})]})]}),M.length>0&&(0,t.jsxs)("section",{className:g().actionPanel,"aria-label":"Immediate actions",children:[(0,t.jsxs)("header",{children:[(0,t.jsx)("h3",{className:"".concat(g().actionTitle," ds-subtitle"),children:"Unblock these next"}),(0,t.jsx)("span",{className:"ds-badge","data-tone":"info",children:M.length})]}),(0,t.jsx)("ul",{className:g().actionList,children:M.map(e=>(0,t.jsxs)("li",{className:"ds-body",children:[(0,t.jsxs)("strong",{children:[e.label,":"]})," ",e.action]},e.slug))})]}),(0,t.jsxs)("section",{className:g().checklistSection,"aria-label":"Setup checklist",children:[(0,t.jsx)("h3",{className:"ds-title",children:"Setup checklist"}),(0,t.jsxs)("ol",{className:g().checklist,children:[(0,t.jsx)("li",{className:"".concat(g().checklistItem," ds-body"),children:"Share Shopify, Meta, Google Ads, and Klaviyo credentials (or approve existing invites) so ingestion can pull the first lookback window."}),(0,t.jsxs)("li",{className:"".concat(g().checklistItem," ds-body"),children:["Run the worker pipeline (",(0,t.jsxs)("code",{children:["python apps/worker/run.py ",v]}),") or schedule it via Prefect to generate a fresh plan and guardrail proofs."]}),(0,t.jsx)("li",{className:"".concat(g().checklistItem," ds-body"),children:"Review the Plan and Automations surfaces in live mode, then capture exec sign-off with the audit trail above."})]}),(0,t.jsxs)("div",{className:"".concat(g().supportRow," ds-caption"),children:[(0,t.jsx)("span",{children:"Need help? Email"}),(0,t.jsx)("a",{href:"mailto:founders@weathervane.dev",children:"founders@weathervane.dev"}),(0,t.jsx)("span",{children:"or review docs/DEVELOPMENT.md for implementation notes."})]})]})]})]})}},4221:function(e){e.exports={container:"onboarding-connector-list_container__D45P9",header:"onboarding-connector-list_header__dHmiD",titleRow:"onboarding-connector-list_titleRow__SeyG0",meta:"onboarding-connector-list_meta__h4ZQl",metaBadges:"onboarding-connector-list_metaBadges__09CTM",badge:"onboarding-connector-list_badge__ie64M",notice:"onboarding-connector-list_notice__ELhhr",list:"onboarding-connector-list_list__CukJZ",item:"onboarding-connector-list_item__Bsdez",itemHeader:"onboarding-connector-list_itemHeader__QaPwA",statusBadge:"onboarding-connector-list_statusBadge__Y72RU",summary:"onboarding-connector-list_summary__RvZey",progressRow:"onboarding-connector-list_progressRow__TCpzZ",progressBar:"onboarding-connector-list_progressBar___AVI9",progressFill:"onboarding-connector-list_progressFill__c_8vG",footer:"onboarding-connector-list_footer__JIJdE",action:"onboarding-connector-list_action__0ZvwA",empty:"onboarding-connector-list_empty__kvNzw"}},5121:function(e){e.exports={root:"setup_root__OT_uY",hero:"setup_hero__Goq_u",heroSplit:"setup_heroSplit__y5K4G",heroCopy:"setup_heroCopy__b4WkO",heroEyebrow:"setup_heroEyebrow__Bmmkn",heroTitle:"setup_heroTitle__B7A8D",heroBody:"setup_heroBody__wD7yE",heroActions:"setup_heroActions__uH0lP",primaryAction:"setup_primaryAction__HrkiX",secondaryAction:"setup_secondaryAction__gzoXs",modeSwitch:"setup_modeSwitch__3WA37",modeHeading:"setup_modeHeading__UY4Rt",modeButtons:"setup_modeButtons__STQW_",modeButton:"setup_modeButton__DfUdM",modeButtonActive:"setup_modeButtonActive__oXR4g",modeLabel:"setup_modeLabel__Z3g00",modeHelper:"setup_modeHelper__IM1GP",progressSection:"setup_progressSection__l1YvP",progressHeading:"setup_progressHeading__MnlGH",progressGrid:"setup_progressGrid__TcDiq",panel:"setup_panel__HqEuq",actionPanel:"setup_actionPanel__g3Vsx",actionTitle:"setup_actionTitle__GpGgW",actionList:"setup_actionList__M6rrt",checklistSection:"setup_checklistSection__WSgwM",checklist:"setup_checklist__2txDL",checklistItem:"setup_checklistItem__Nsz2r",supportRow:"setup_supportRow___F3Jk"}}},function(e){e.O(0,[717,570,142,888,774,179],function(){return e(e.s=5751)}),_N_E=e.O()}]);