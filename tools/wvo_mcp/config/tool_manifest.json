{
  "version": "2025-10-17",
  "generated_by": "cleanup_workspace.py ledger integration",
  "tools": [
    {
      "name": "plan_next",
      "description": "Return highest priority roadmap tasks with optional filters.",
      "input_schema": "PlanNextInput",
      "rough_cost_tokens": 1200,
      "capability": "medium",
      "prerequisites": [
        "state/roadmap.yaml"
      ],
      "postconditions": [
        "No state mutation."
      ]
    },
    {
      "name": "plan_update",
      "description": "Update roadmap task status and persist to state/roadmap.yaml.",
      "input_schema": "PlanUpdateInput",
      "rough_cost_tokens": 900,
      "capability": "medium",
      "prerequisites": [
        "plan_next executed or task id known"
      ],
      "postconditions": [
        "state/roadmap.yaml mutated",
        "Triggers plan cache invalidation"
      ]
    },
    {
      "name": "critics_run",
      "description": "Run one or more critic suites (lint/tests/UX) inside isolated sandboxes.",
      "input_schema": "CriticsRunInput",
      "rough_cost_tokens": 600,
      "capability": "high",
      "prerequisites": [
        "Worker healthy",
        "All critic dependencies installed"
      ],
      "postconditions": [
        "state/critics/<critic>.json updated",
        "state/context.md may be appended with summary"
      ]
    },
    {
      "name": "context_write",
      "description": "Append or replace sections in state/context.md for decision logging.",
      "input_schema": "ContextWriteInput",
      "rough_cost_tokens": 150,
      "capability": "low",
      "prerequisites": [
        "None"
      ],
      "postconditions": [
        "state/context.md mutated with dedupe guard"
      ]
    },
    {
      "name": "cmd_run",
      "description": "Execute shell commands within the workspace (respecting sandbox).",
      "input_schema": "CmdRunInput",
      "rough_cost_tokens": 400,
      "capability": "varies",
      "prerequisites": [
        "Command approved for sandbox",
        "Workspace not read-only"
      ],
      "postconditions": [
        "Side-effects depend on command"
      ]
    },
    {
      "name": "fs_read",
      "description": "Read a file relative to the workspace root.",
      "input_schema": "FsReadInput",
      "rough_cost_tokens": 80,
      "capability": "low",
      "prerequisites": [
        "File within allowed roots"
      ],
      "postconditions": [
        "None"
      ]
    },
    {
      "name": "fs_write",
      "description": "Write a file relative to the workspace root.",
      "input_schema": "FsWriteInput",
      "rough_cost_tokens": 120,
      "capability": "medium",
      "prerequisites": [
        "Target path writable"
      ],
      "postconditions": [
        "File contents replaced"
      ]
    },
    {
      "name": "autopilot_status",
      "description": "Return autopilot audit cadence and consensus snapshots.",
      "input_schema": null,
      "rough_cost_tokens": 90,
      "capability": "low",
      "prerequisites": [
        "state/autopilot_status.json existing"
      ],
      "postconditions": [
        "None"
      ]
    },
    {
      "name": "tool_manifest",
      "description": "Describe available MCP tools with metadata for scheduling.",
      "input_schema": null,
      "rough_cost_tokens": 60,
      "capability": "low",
      "prerequisites": [
        "tools/wvo_mcp/config/tool_manifest.json present"
      ],
      "postconditions": [
        "None"
      ]
    },
    {
      "name": "lsp_initialize",
      "description": "Start TypeScript and Python language servers to enable symbol-aware context.",
      "input_schema": "LspInitializeInput",
      "rough_cost_tokens": 550,
      "capability": "medium",
      "prerequisites": [
        "Workspace root resolved"
      ],
      "postconditions": [
        "tsserver and pyright running if available"
      ]
    },
    {
      "name": "lsp_server_status",
      "description": "Check whether TypeScript/Python LSP servers are running and initialized.",
      "input_schema": "LspServerStatusInput",
      "rough_cost_tokens": 120,
      "capability": "low",
      "prerequisites": [
        "lsp_initialize executed or servers previously started"
      ],
      "postconditions": [
        "None"
      ]
    },
    {
      "name": "lsp_definition",
      "description": "Find symbol definitions with contextual code slices via the LSP proxy.",
      "input_schema": "LspDefinitionInput",
      "rough_cost_tokens": 800,
      "capability": "high",
      "prerequisites": [
        "lsp_initialize executed successfully"
      ],
      "postconditions": [
        "None"
      ]
    },
    {
      "name": "lsp_references",
      "description": "Enumerate symbol references across the workspace using LSP data.",
      "input_schema": "LspReferencesInput",
      "rough_cost_tokens": 900,
      "capability": "high",
      "prerequisites": [
        "lsp_initialize executed successfully"
      ],
      "postconditions": [
        "None"
      ]
    },
    {
      "name": "lsp_hover",
      "description": "Retrieve hover/type information for a symbol from the LSP server.",
      "input_schema": "LspHoverInput",
      "rough_cost_tokens": 650,
      "capability": "medium",
      "prerequisites": [
        "lsp_initialize executed successfully"
      ],
      "postconditions": [
        "None"
      ]
    },
    {
      "name": "mcp_admin_flags",
      "description": "Manage runtime flags for tool routing, feature toggles, and behavior control without restart.",
      "input_schema": "AdminFlagsInput",
      "rough_cost_tokens": 200,
      "capability": "medium",
      "prerequisites": [
        "Workspace initialized with state/orchestrator.db"
      ],
      "postconditions": [
        "state/orchestrator.db settings table updated",
        "Changes take effect immediately via LiveFlags polling"
      ]
    }
  ]
}
