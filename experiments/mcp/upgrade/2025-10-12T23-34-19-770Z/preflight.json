{
  "ok": false,
  "error": "upgrade_aborted",
  "failedCheck": "git_clean",
  "logs": [
    {
      "name": "git_clean",
      "status": "failed",
      "timestamp": "2025-10-12T23:34:19.769Z",
      "details": "D .accounts/claude/claude_primary/.claude.json\n D .accounts/claude/claude_primary/.claude.json.backup\n D .accounts/claude/claude_primary/debug/06734894-c535-4d39-9e7f-1577ad76b478.txt\n D .accounts/claude/claude_primary/debug/08e382d8-9d81-4453-a03c-db303e511378.txt\n D .accounts/claude/claude_primary/debug/0dbd27fc-a6c3-47d5-b12f-4e3b17b33a4d.txt\n D .accounts/claude/claude_primary/debug/15e57c7a-7b69-4afe-81f9-893889decfa7.txt\n D .accounts/claude/claude_primary/debug/1bb5b583-d7f8-457e-a7e0-15fa62d54319.txt\n D .accounts/claude/claude_primary/debug/202e8b66-f375-4d7b-bcf9-9b8c4887ce81.txt\n D .accounts/claude/claude_primary/debug/21cc34f6-a12e-475c-8358-7b7992c323b2.txt\n D .accounts/claude/claude_primary/debug/2288e838-c81f-435c-b283-3eb5df84db36.txt\n D .accounts/claude/claude_primary/debug/264aa687-5327-4a94-8b9d-6084d517f717.txt\n D .accounts/claude/claude_primary/debug/2eb40637-1e70-474c-b67d-30a7c250c468.txt\n D .accounts/claude/claude_primary/debug/2fdc60ef-358d-4240-a30b-78cbb3b8a5ef.txt\n D .accounts/claude/claude_primary/debug/45518a77-9f76-4d2f-9457-fd6ff87aef94.txt\n D .accounts/claude/claude_primary/debug/4a4655a0-6919-42a4-8b6a-81e2b4c4eaf8.txt\n D .accounts/claude/claude_primary/debug/4be416ef-309c-4912-9390-de49da737252.txt\n D .accounts/claude/claude_primary/debug/52065b99-3658-47f6-a9eb-5f030200ff4b.txt\n D .accounts/claude/claude_primary/debug/545f3b1a-f739-4b42-987e-d994e7c3644b.txt\n D .accounts/claude/claude_primary/debug/58118ce8-711d-4d16-908f-9a306e58b84c.txt\n D .accounts/claude/claude_primary/debug/6086dd1b-7e76-4339-8f82-bf4cb45c9fb1.txt\n D .accounts/claude/claude_primary/debug/62d3a6d8-d8ad-4033-ab76-9f19fb0a7405.txt\n D .accounts/claude/claude_primary/debug/65acf55a-b743-45c0-a9fe-0c4d85f2bf50.txt\n D .accounts/claude/claude_primary/debug/73e31f95-76be-4d9a-af79-365687166130.txt\n D .accounts/claude/claude_primary/debug/76a08163-33c5-485b-9c24-2c1307399b85.txt\n D .accounts/claude/claude_primary/debug/78a517e7-2240-4381-a7c6-09bee0c6e33b.txt\n D .accounts/claude/claude_primary/debug/7cb8346b-0528-4f6c-97bf-a9652082b0f6.txt\n D .accounts/claude/claude_primary/debug/83a024bd-88da-452b-b94d-5e9791ee3a86.txt\n D .accounts/claude/claude_primary/debug/8529601c-1fa6-4f72-9165-bef57d00df79.txt\n D .accounts/claude/claude_primary/debug/87be1e28-5d6f-424a-859b-86b2c7a9da4e.txt\n D .accounts/claude/claude_primary/debug/8fecf30e-c368-47e3-9f10-a488d10c2f12.txt\n D .accounts/claude/claude_primary/debug/90a79911-32fe-4103-986c-f19fc1d23ad3.txt\n D .accounts/claude/claude_primary/debug/919a2756-8695-4246-9eec-d5ae62eb28cf.txt\n D .accounts/claude/claude_primary/debug/91e00d5d-a5e1-41ce-8987-a7752710b14b.txt\n D .accounts/claude/claude_primary/debug/9fa10640-81fa-4ae9-a96f-51c938e5ccbc.txt\n D .accounts/claude/claude_primary/debug/abb30017-26b7-46bd-82ae-d9df70e3a384.txt\n D .accounts/claude/claude_primary/debug/ad712301-d441-40fd-b139-eb987554b24e.txt\n D .accounts/claude/claude_primary/debug/aec37b2d-bb77-40bb-bb09-ab76fc8a85f0.txt\n D .accounts/claude/claude_primary/debug/afbdd631-e2ab-49f3-a1bf-74b82045d27c.txt\n D .accounts/claude/claude_primary/debug/bceb2083-1f80-47d3-a7d2-f02efd9605e4.txt\n D .accounts/claude/claude_primary/debug/c360bc04-5a8d-44d9-9738-f84d232bce4a.txt\n D .accounts/claude/claude_primary/debug/cc2210cf-4d5c-47a8-bed9-18d1adc317ce.txt\n D .accounts/claude/claude_primary/debug/ce0ca802-c162-43d7-b0ee-10c4e40485f4.txt\n D .accounts/claude/claude_primary/debug/d1bcfe7c-6a2d-474d-afb5-aded7e523722.txt\n D .accounts/claude/claude_primary/debug/d6c5f632-51a0-4d4d-aebc-2c371354d54d.txt\n D .accounts/claude/claude_primary/debug/d9f21dd3-f448-4958-8cf6-c2ae70b703b1.txt\n D .accounts/claude/claude_primary/debug/de1fccc8-c7fa-49e2-ba75-862b8ca9b7e1.txt\n D .accounts/claude/claude_primary/debug/deb455bb-9cca-4d8a-9716-f71a9db1fe24.txt\n D .accounts/claude/claude_primary/debug/e22b1c8d-dc40-4984-aa4c-97a7547ff20f.txt\n D .accounts/claude/claude_primary/debug/f41f2b8a-4fa5-428b-97eb-14feedc179bc.txt\n D .accounts/claude/claude_primary/debug/latest\n D .accounts/claude/claude_primary/projects/-Volumes-BigSSD4-nathanielschmiedehaus-Documents-WeatherVane/1bb5b583-d7f8-457e-a7e0-15fa62d54319.jsonl\n D .accounts/claude/claude_primary/projects/-Volumes-BigSSD4-nathanielschmiedehaus-Documents-WeatherVane/545f3b1a-f739-4b42-987e-d994e7c3644b.jsonl\n D .accounts/claude/claude_primary/projects/-Volumes-BigSSD4-nathanielschmiedehaus-Documents-WeatherVane/87be1e28-5d6f-424a-859b-86b2c7a9da4e.jsonl\n D .accounts/claude/claude_primary/shell-snapshots/snapshot-bash-1760115585172-t51jdf.sh\n D .accounts/claude/claude_primary/shell-snapshots/snapshot-bash-1760115586219-oftleq.sh\n D .accounts/claude/claude_primary/shell-snapshots/snapshot-bash-1760115768894-afhiaj.sh\n D .accounts/claude/claude_primary/statsig/statsig.cached.evaluations.9de5555e45\n D .accounts/claude/claude_primary/statsig/statsig.last_modified_time.evaluations\n D .accounts/claude/claude_primary/statsig/statsig.session_id.2656274335\n D .accounts/claude/claude_primary/statsig/statsig.stable_id.2656274335\n D .accounts/claude/claude_primary/todos/1bb5b583-d7f8-457e-a7e0-15fa62d54319-agent-1bb5b583-d7f8-457e-a7e0-15fa62d54319.json\n D .accounts/claude/claude_primary/todos/545f3b1a-f739-4b42-987e-d994e7c3644b-agent-545f3b1a-f739-4b42-987e-d994e7c3644b.json\n D .accounts/claude/claude_primary/todos/87be1e28-5d6f-424a-859b-86b2c7a9da4e-agent-87be1e28-5d6f-424a-859b-86b2c7a9da4e.json\n M .gitignore\n M apps/allocator/heuristics.py\n M apps/api/routes/__init__.py\n M apps/model/__init__.py\n M apps/web/src/lib/api.ts\n M apps/web/src/pages/experiments.tsx\n M apps/worker/flows/__init__.py\n M apps/worker/flows/ingestion_pipeline.py\n M apps/worker/flows/poc_pipeline.py\n M apps/worker/run.py\n M apps/worker/validation/__init__.py\n M docs/AUTOPILOT_FIXES.md\n M docs/INGESTION.md\n M docs/MCP_ORCHESTRATOR.md\n M docs/OBSERVABILITY.md\n M docs/ROADMAP_ANALYSIS.md\n M docs/SELF_IMPROVEMENT_INTEGRATION.md\n M docs/STATUS.md\n M docs/wvo_prompt.md\n M experiments/forecast/ensemble_metrics.json\n M run_wvo_autopilot.sh\n M shared/feature_store/feature_builder.py\n M shared/feature_store/feature_generators.py\n M shared/libs/connectors/__init__.py\n M shared/libs/hardware/probe.py\n M state/accounts.yaml\n M state/accounts_runtime.json\n M state/checkpoint.json\n M state/context.md\n M state/critics/allocator.json\n M state/critics/build.json\n M state/critics/costperf.json\n M state/critics/dataquality.json\n M state/critics/designsystem.json\n M state/critics/execreview.json\n M state/critics/healthcheck.json\n M state/critics/human_sync.json\n M state/critics/leakage.json\n M state/critics/managerselfcheck.json\n M state/critics/orgpm.json\n M state/critics/security.json\n M state/critics/tests.json\n M state/device_profiles.json\n M state/mcp_registry.json\n M state/orchestrator.db\n M state/orchestrator.db-shm\n M state/orchestrator.db-wal\n M state/roadmap.yaml\n M state/telemetry/usage.jsonl\n M tests/test_feature_builder.py\n M tests/test_ingestion_flow.py\n M tests/test_poc_flow_integration.py\n M tests/test_worker_cli.py\n M tools/wvo_mcp/ARCHITECTURE_V2.md\n M tools/wvo_mcp/IMPLEMENTATION_STATUS.md\n M tools/wvo_mcp/MCP_FIXES_COMPLETE.md\n M tools/wvo_mcp/scripts/account_manager.py\n M tools/wvo_mcp/scripts/autopilot.sh\n M tools/wvo_mcp/src/critics/cost_perf.ts\n M tools/wvo_mcp/src/executor/file_ops.ts\n M tools/wvo_mcp/src/executor/guardrails.ts\n M tools/wvo_mcp/src/index-claude.ts\n M tools/wvo_mcp/src/index-orchestrator.ts\n M tools/wvo_mcp/src/index.ts\n M tools/wvo_mcp/src/orchestrator/agent_pool.ts\n M tools/wvo_mcp/src/orchestrator/claude_code_coordinator.ts\n M tools/wvo_mcp/src/orchestrator/context_assembler.ts\n M tools/wvo_mcp/src/orchestrator/operations_manager.ts\n M tools/wvo_mcp/src/orchestrator/orchestrator_runtime.ts\n M tools/wvo_mcp/src/orchestrator/quality_monitor.ts\n M tools/wvo_mcp/src/orchestrator/resilience_manager.ts\n M tools/wvo_mcp/src/orchestrator/roadmap_adapter.ts\n M tools/wvo_mcp/src/orchestrator/self_improvement_manager.ts\n M tools/wvo_mcp/src/orchestrator/state_machine.ts\n M tools/wvo_mcp/src/orchestrator/task_scheduler.ts\n M tools/wvo_mcp/src/planner/planner_engine.ts\n M tools/wvo_mcp/src/planner/roadmap_parser.ts\n M tools/wvo_mcp/src/session.ts\n M tools/wvo_mcp/src/tests/context_assembler_prompt.test.ts\n M tools/wvo_mcp/src/utils/schema.ts\n M tools/wvo_mcp/src/utils/types.ts\n?? .github/\n?? .ignore\n?? .rgignore\n?? apps/allocator/hf_response.py\n?? apps/allocator/marketing_mix.py\n?? apps/allocator/rl_shadow.py\n?? apps/allocator/saturation_fairness.py\n?? apps/api/routes/allocator.py\n?? apps/api/routes/creative.py\n?? apps/api/services/allocator_service.py\n?? apps/api/services/creative_service.py\n?? apps/model/creative_response.py\n?? apps/web/src/components/CreativeGuardrailPanel.tsx\n?? apps/web/src/components/RLShadowPanel.tsx\n?? apps/web/src/components/SaturationPanel.tsx\n?? apps/web/src/types/allocator.ts\n?? apps/web/src/types/creative.ts\n?? apps/worker/flows/creative_response_pipeline.py\n?? apps/worker/flows/rl_shadow_pipeline.py\n?? apps/worker/maintenance/geocoding_coverage.py\n?? apps/worker/monitoring/\n?? apps/worker/scheduling/\n?? apps/worker/validation/weather.py\n?? config/\n?? docs/ALLOCATOR_OPTIMIZER.md\n?? docs/AUTOPILOT_CLAUDE_FALLBACK_FIX.md\n?? docs/AUTOPILOT_PROVIDER_SAFEGUARD.md\n?? docs/AUTOPILOT_STATUS.md\n?? docs/MCP_CLUSTER_TASKS.md\n?? docs/MCP_SETUP_STATUS.md\n?? docs/MCP_TEST_RESULTS.md\n?? docs/SECURITY_AUDIT.md\n?? docs/api/\n?? docs/security/\n?? docs/weather/coverage.md\n?? experiments/allocator/\n?? experiments/creative/\n?? experiments/features/\n?? experiments/mcp/\n?? experiments/rl/\n?? scripts/context7-config.ts\n?? scripts/refresh_api_docs.mjs\n?? scripts/refresh_api_docs.sh\n?? shared/feature_store/reports.py\n?? shared/libs/connectors/meta_marketing.py\n?? shared/observability/telemetry_summary.py\n?? shared/schemas/allocator.py\n?? shared/schemas/creative.py\n?? state/dq_monitoring.json\n?? state/quality/\n?? state/telemetry/metrics_summary.json\n?? tests/apps/model/test_creative_response.py\n?? tests/apps/test_adaptive_scheduler.py\n?? tests/apps/test_dq_monitoring.py\n?? tests/apps/test_meta_ads.py\n?? tests/test_allocator_hf_response.py\n?? tests/test_allocator_routes.py\n?? tests/test_command_allowlist.py\n?? tests/test_creative_route.py\n?? tests/test_geocoding_coverage_cli.py\n?? tests/test_marketing_mix_solver.py\n?? tests/test_mcp_tools.py\n?? tests/test_rl_shadow_mode.py\n?? tests/test_rl_shadow_pipeline.py\n?? tests/test_saturation_fairness.py\n?? tests/test_state_persistence.py\n?? tests/test_telemetry_summary.py\n?? tests/test_weather_coverage.py\n?? tools/wvo_mcp/scripts/check_failover_guardrail.d.mts\n?? tools/wvo_mcp/scripts/check_failover_guardrail.mjs\n?? tools/wvo_mcp/scripts/mcp_upgrade_preflight.ts\n?? tools/wvo_mcp/scripts/run_error_recovery_test.mjs\n?? tools/wvo_mcp/scripts/run_provider_failover_test.mjs\n?? tools/wvo_mcp/scripts/test_mcp_client.mjs\n?? tools/wvo_mcp/src/critics/failover_guardrail.ts\n?? tools/wvo_mcp/src/state/safety_state.ts\n?? tools/wvo_mcp/src/telemetry/execution_telemetry.test.ts\n?? tools/wvo_mcp/src/telemetry/execution_telemetry.ts\n?? tools/wvo_mcp/src/tests/cluster_utils.test.ts\n?? tools/wvo_mcp/src/tests/code_search.test.ts\n?? tools/wvo_mcp/src/tests/command_allowlist.test.ts\n?? tools/wvo_mcp/src/tests/coordinator_network_failure.test.ts\n?? tools/wvo_mcp/src/tests/coordinator_prompt_header.test.ts\n?? tools/wvo_mcp/src/tests/failover_guardrail.test.ts\n?? tools/wvo_mcp/src/tests/operations_manager_costs.test.ts\n?? tools/wvo_mcp/src/tests/operations_manager_validation.test.ts\n?? tools/wvo_mcp/src/tests/output_validator.test.ts\n?? tools/wvo_mcp/src/tests/prompt_cache_parsing.test.ts\n?? tools/wvo_mcp/src/tests/prompt_headers.test.ts\n?? tools/wvo_mcp/src/tests/quality_monitor.test.ts\n?? tools/wvo_mcp/src/tests/resilience_manager.test.ts\n?? tools/wvo_mcp/src/tests/roadmap_sync_correlation.test.ts\n?? tools/wvo_mcp/src/tests/safety_state_store.test.ts\n?? tools/wvo_mcp/src/tests/self_improvement_correlation.test.ts\n?? tools/wvo_mcp/src/tests/session_correlation.test.ts\n?? tools/wvo_mcp/src/tests/state_machine_correlation.test.ts\n?? tools/wvo_mcp/src/tests/task_scheduler_batch.test.ts\n?? tools/wvo_mcp/src/tests/task_scheduler_resource.test.ts\n?? tools/wvo_mcp/src/tests/upgrade_preflight.test.ts\n?? tools/wvo_mcp/src/types/check_failover_guardrail.d.ts\n?? tools/wvo_mcp/src/upgrade/\n?? tools/wvo_mcp/src/utils/api_docs.ts\n?? tools/wvo_mcp/src/utils/cluster.ts\n?? tools/wvo_mcp/src/utils/code_search.ts\n?? tools/wvo_mcp/src/utils/device_profile.test.ts\n?? tools/wvo_mcp/src/utils/device_profile.ts\n?? tools/wvo_mcp/src/utils/output_validator.ts\n?? tools/wvo_mcp/src/utils/prompt_headers.ts\n?? tools/wvo_mcp/test-server.js"
    }
  ],
  "gates": [
    {
      "gate": "build",
      "status": "pending",
      "timestamp": "2025-10-12T23:34:19.085Z"
    },
    {
      "gate": "unit",
      "status": "pending",
      "timestamp": "2025-10-12T23:34:19.086Z"
    },
    {
      "gate": "selfchecks",
      "status": "pending",
      "timestamp": "2025-10-12T23:34:19.086Z"
    },
    {
      "gate": "canary_ready",
      "status": "pending",
      "timestamp": "2025-10-12T23:34:19.086Z"
    }
  ]
}